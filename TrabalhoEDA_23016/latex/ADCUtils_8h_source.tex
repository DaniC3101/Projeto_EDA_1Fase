\doxysection{ADCUtils.\+h}
\hypertarget{ADCUtils_8h_source}{}\label{ADCUtils_8h_source}\index{C:/Users/danib/Documents/Arduino/libraries/IRremote/examples/AllProtocolsOnLCD/ADCUtils.h@{C:/Users/danib/Documents/Arduino/libraries/IRremote/examples/AllProtocolsOnLCD/ADCUtils.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ ADCUtils.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ Copyright\ (C)\ 2016-\/2022\ \ Armin\ Joachimsmeyer}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ Email:\ armin.joachimsmeyer@gmail.com}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ \ This\ file\ is\ part\ of\ Arduino-\/Utils\ https://github.com/ArminJo/Arduino-\/Utils.}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ \ ArduinoUtils\ is\ free\ software:\ you\ can\ redistribute\ it\ and/or\ modify}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ \ it\ under\ the\ terms\ of\ the\ GNU\ General\ Public\ License\ as\ published\ by}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ \ the\ Free\ Software\ Foundation,\ either\ version\ 3\ of\ the\ License,\ or}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ \ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ \ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ \ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ \ See\ the\ GNU\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ \ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ General\ Public\ License}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ \ along\ with\ this\ program.\ If\ not,\ see\ <http://www.gnu.org/licenses/gpl.html>.}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#ifndef\ \_ADC\_UTILS\_H}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ \_ADC\_UTILS\_H}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#if\ defined(\_\_AVR\_\_)\ \&\&\ defined(ADCSRA)\ \&\&\ defined(ADATE)\ \&\&\ (!defined(\_\_AVR\_ATmega4809\_\_))}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ ADC\_UTILS\_ARE\_AVAILABLE}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{//\ PRESCALE4\ =>\ 13\ *\ 4\ =\ 52\ microseconds\ per\ ADC\ conversion\ at\ 1\ MHz\ Clock\ =>\ 19,2\ kHz}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE2\ \ \ \ 1\ }\textcolor{comment}{//\ 26\ microseconds\ per\ ADC\ conversion\ at\ 1\ MHz}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE4\ \ \ \ 2\ }\textcolor{comment}{//\ 52\ microseconds\ per\ ADC\ conversion\ at\ 1\ MHz}}
\DoxyCodeLine{00035\ \textcolor{comment}{//\ PRESCALE8\ =>\ 13\ *\ 8\ =\ 104\ microseconds\ per\ ADC\ sample\ at\ 1\ MHz\ Clock\ =>\ 9,6\ kHz}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE8\ \ \ \ 3\ }\textcolor{comment}{//\ 104\ microseconds\ per\ ADC\ conversion\ at\ 1\ MHz}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE16\ \ \ 4\ }\textcolor{comment}{//\ 13/208\ microseconds\ per\ ADC\ conversion\ at\ 16/1\ MHz\ -\/\ degradations\ in\ linearity\ at\ 16\ MHz}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE32\ \ \ 5\ }\textcolor{comment}{//\ 26/416\ microseconds\ per\ ADC\ conversion\ at\ 16/1\ MHz\ -\/\ very\ good\ linearity\ at\ 16\ MHz}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE64\ \ \ 6\ }\textcolor{comment}{//\ 52\ microseconds\ per\ ADC\ conversion\ at\ 16\ MHz}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE128\ \ 7\ }\textcolor{comment}{//\ 104\ microseconds\ per\ ADC\ conversion\ at\ 16\ MHz\ -\/-\/-\/\ Arduino\ default}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{comment}{//\ definitions\ for\ 0.1\ ms\ conversion\ time}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#if\ (F\_CPU\ ==\ 1000000)}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE\ ADC\_PRESCALE8}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#elif\ (F\_CPU\ ==\ 8000000)}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE\ ADC\_PRESCALE64}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#elif\ (F\_CPU\ ==\ 16000000)}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#define\ ADC\_PRESCALE\ ADC\_PRESCALE128}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{comment}{/*}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ *\ Reference\ shift\ values\ are\ complicated\ for\ ATtinyX5\ since\ we\ have\ the\ extra\ register\ bit\ REFS2}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ *\ in\ ATTinyCore,\ this\ bit\ is\ handled\ programmatical\ and\ therefore\ the\ defines\ are\ different.}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ *\ To\ keep\ my\ library\ small,\ I\ use\ the\ changed\ defines.}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ *\ After\ including\ this\ file\ you\ can\ not\ call\ the\ ATTinyCore\ readAnalog\ functions\ reliable,\ if\ you\ specify\ references\ other\ than\ default!}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#if\ defined(\_\_AVR\_ATtiny25\_\_)\ ||\ defined(\_\_AVR\_ATtiny45\_\_)\ ||\ defined(\_\_AVR\_ATtiny85\_\_)}}
\DoxyCodeLine{00058\ \textcolor{comment}{//\ defines\ are\ for\ ADCUtils.cpp,\ they\ can\ be\ used\ WITHOUT\ bit\ reordering}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#undef\ DEFAULT}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#undef\ EXTERNAL}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#undef\ INTERNAL1V1}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#undef\ INTERNAL}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#undef\ INTERNAL2V56}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#undef\ INTERNAL2V56\_EXTCAP}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#define\ DEFAULT\ 0}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#define\ EXTERNAL\ 4}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#define\ INTERNAL1V1\ 8}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#define\ INTERNAL\ INTERNAL1V1}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ INTERNAL2V56\ 9}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#define\ INTERNAL2V56\_EXTCAP\ 13}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#define\ SHIFT\_VALUE\_FOR\_REFERENCE\ REFS2}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#define\ MASK\_FOR\_ADC\_REFERENCE\ (\_BV(REFS0)\ |\ \_BV(REFS1)\ |\ \_BV(REFS2))}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#define\ MASK\_FOR\_ADC\_CHANNELS\ (\_BV(MUX0)\ |\ \_BV(MUX1)\ |\ \_BV(MUX2)\ |\ \_BV(MUX3))}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ AVR\_ATtiny85}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ SHIFT\_VALUE\_FOR\_REFERENCE\ REFS0}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#define\ MASK\_FOR\_ADC\_REFERENCE\ (\_BV(REFS0)\ |\ \_BV(REFS1))}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#define\ MASK\_FOR\_ADC\_CHANNELS\ (\_BV(MUX0)\ |\ \_BV(MUX1)\ |\ \_BV(MUX2)\ |\ \_BV(MUX3))}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{comment}{//\ Temperature\ channel\ definitions\ -\/\ 1\ LSB\ /\ 1\ degree\ Celsius}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#if\ defined(\_\_AVR\_ATtiny25\_\_)\ ||\ defined(\_\_AVR\_ATtiny45\_\_)\ ||\ defined(\_\_AVR\_ATtiny85\_\_)}}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\#define\ ADC\_TEMPERATURE\_CHANNEL\_MUX\ 15}}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#define\ ADC\_1\_1\_VOLT\_CHANNEL\_MUX\ \ \ \ 12}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#define\ ADC\_GND\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 13}}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\_MUX\_MASK\ \ \ \ \ \ \ \ 0x0F}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#elif\ defined(\_\_AVR\_ATtiny87\_\_)\ ||\ defined(\_\_AVR\_ATtiny167\_\_)}}
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#define\ ADC\_ISCR\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 3}}
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#define\ ADC\_TEMPERATURE\_CHANNEL\_MUX\ 11}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#define\ ADC\_1\_1\_VOLT\_CHANNEL\_MUX\ \ \ \ 12}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#define\ ADC\_GND\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 14}}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#define\ ADC\_VCC\_4TH\_CHANNEL\_MUX\ \ \ \ \ 13}}
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\_MUX\_MASK\ \ \ \ \ \ \ \ 0x1F}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#elif\ defined(\_\_AVR\_ATmega328P\_\_)}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\#define\ ADC\_TEMPERATURE\_CHANNEL\_MUX\ \ 8}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#define\ ADC\_1\_1\_VOLT\_CHANNEL\_MUX\ \ \ \ 14}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\#define\ ADC\_GND\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 15}}
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\_MUX\_MASK\ \ \ \ \ \ \ \ 0x0F}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#elif\ defined(\_\_AVR\_ATmega644P\_\_)}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#define\ ADC\_TEMPERATURE\_CHANNEL\_MUX\ \ }\textcolor{comment}{//\ not\ existent}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#define\ ADC\_1\_1\_VOLT\_CHANNEL\_MUX\ \ \ \ 0x1E}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#define\ ADC\_GND\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 0x1F}}
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\_MUX\_MASK\ \ \ \ \ \ \ \ 0x0F}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#elif\ defined(\_\_AVR\_ATmega32U4\_\_)}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#define\ ADC\_TEMPERATURE\_CHANNEL\_MUX\ 0x27}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#define\ ADC\_1\_1\_VOLT\_CHANNEL\_MUX\ \ \ \ 0x1E}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#define\ ADC\_GND\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 0x1F}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\_MUX\_MASK\ \ \ \ \ \ \ \ 0x3F}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{preprocessor}{\#elif\ defined(\_\_AVR\_ATmega1280\_\_)\ ||\ defined(\_\_AVR\_ATmega2560\_\_)\ ||\ defined(\_\_AVR\_ATmega1284\_\_)\ ||\ defined(\_\_AVR\_ATmega1284P\_\_)\ ||\ defined(\_\_AVR\_ATmega644\_\_)\ ||\ defined(\_\_AVR\_ATmega644A\_\_)\ ||\ defined(\_\_AVR\_ATmega644P\_\_)\ ||\ defined(\_\_AVR\_ATmega644PA\_\_)}}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#define\ ADC\_1\_1\_VOLT\_CHANNEL\_MUX\ \ \ \ 0x1E}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#define\ ADC\_GND\_CHANNEL\_MUX\ \ \ \ \ \ \ \ \ 0x1F}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\_MUX\_MASK\ \ \ \ \ \ \ \ 0x1F}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#define\ INTERNAL\ INTERNAL1V1}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#error\ "{}No\ temperature\ channel\ definitions\ specified\ for\ this\ AVR\ CPU"{}}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \textcolor{comment}{/*}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ *\ Thresholds\ for\ OVER\ and\ UNDER\ voltage\ and\ detection\ of\ kind\ of\ power\ supply\ (USB\ or\ Li-\/ion)}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ *\ Default\ values\ are\ suitable\ for\ Li-\/ion\ batteries.}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ *\ We\ normally\ have\ voltage\ drop\ at\ the\ connectors,\ so\ the\ battery\ voltage\ is\ assumed\ slightly\ higher,\ than\ the\ Arduino\ VCC.}}
\DoxyCodeLine{00132\ \textcolor{comment}{\ *\ But\ keep\ in\ mind\ that\ the\ ultrasonic\ distance\ module\ HC-\/SR04\ may\ not\ work\ reliable\ below\ 3.7\ volt.}}
\DoxyCodeLine{00133\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\#if\ !defined(LI\_ION\_VCC\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\#define\ LI\_ION\_VCC\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT\ \ \ \ \ \ \ \ \ \ \ \ \ 3400\ }\textcolor{comment}{//\ Do\ not\ stress\ your\ battery\ and\ we\ require\ some\ power\ for\ standby}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\#if\ !defined(LI\_ION\_VCC\_EMERGENCY\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#define\ LI\_ION\_VCC\_EMERGENCY\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT\ \ \ 3000\ }\textcolor{comment}{//\ Many\ Li-\/ions\ are\ specified\ down\ to\ 3.0\ volt}}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#if\ !defined(VCC\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#define\ VCC\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT\ \ \ \ \ \ \ \ \ \ \ \ LI\_ION\_VCC\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT}}
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#if\ !defined(VCC\_EMERGENCY\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#define\ VCC\_EMERGENCY\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT\ \ LI\_ION\_VCC\_EMERGENCY\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT}}
\DoxyCodeLine{00146\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#if\ !defined(VCC\_OVERVOLTAGE\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\#define\ VCC\_OVERVOLTAGE\_THRESHOLD\_MILLIVOLT\ \ \ \ \ \ \ \ \ \ \ \ \ 5250\ }\textcolor{comment}{//\ +\ 5\ \%\ operation\ voltage}}
\DoxyCodeLine{00149\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#if\ !defined(VCC\_EMERGENCY\_OVERVOLTAGE\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00151\ \textcolor{preprocessor}{\#define\ VCC\_EMERGENCY\_OVERVOLTAGE\_THRESHOLD\_MILLIVOLT\ \ \ 5500\ }\textcolor{comment}{//\ +10\ \%.\ Max\ recommended\ operation\ voltage}}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00153\ \textcolor{preprocessor}{\#if\ !defined(VCC\_CHECK\_PERIOD\_MILLIS)}}
\DoxyCodeLine{00154\ \textcolor{preprocessor}{\#define\ VCC\_CHECK\_PERIOD\_MILLIS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 10000L\ }\textcolor{comment}{//\ 10\ seconds\ period\ of\ VCC\ checks}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#if\ !defined(VCC\_UNDERVOLTAGE\_CHECKS\_BEFORE\_STOP)}}
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#define\ VCC\_UNDERVOLTAGE\_CHECKS\_BEFORE\_STOP\ \ \ \ \ 6\ }\textcolor{comment}{//\ Shutdown\ after\ 6\ times\ (60\ seconds)\ VCC\ below\ VCC\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT\ or\ 1\ time\ below\ VCC\_EMERGENCY\_UNDERVOLTAGE\_THRESHOLD\_MILLIVOLT}}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#if\ !defined(VOLTAGE\_USB\_POWERED\_LOWER\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#define\ VOLTAGE\_USB\_POWERED\_LOWER\_THRESHOLD\_MILLIVOLT\ \ \ 4300\ }\textcolor{comment}{//\ Assume\ USB\ powered\ above\ this\ voltage}}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#if\ !defined(VOLTAGE\_USB\_POWERED\_UPPER\_THRESHOLD\_MILLIVOLT)}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#define\ VOLTAGE\_USB\_POWERED\_UPPER\_THRESHOLD\_MILLIVOLT\ \ \ 4950\ }\textcolor{comment}{//\ Assume\ USB\ powered\ below\ this\ voltage,\ because\ of\ the\ loss\ in\ USB\ cable.\ If\ we\ have\ >\ 4950,\ we\ assume\ to\ be\ powered\ by\ VIN.}}
\DoxyCodeLine{00166\ \textcolor{comment}{//\ In\ contrast\ to\ e.g.\ powered\ by\ VIN,\ which\ results\ in\ almost\ perfect\ 5\ volt\ supply}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{long}\ sLastVCCCheckMillis;}
\DoxyCodeLine{00170\ \textcolor{keyword}{extern}\ uint8\_t\ sVCCTooLowCounter;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ uint16\_t\ readADCChannel(uint8\_t\ aADCChannelNumber);}
\DoxyCodeLine{00173\ uint16\_t\ readADCChannelWithReference(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference);}
\DoxyCodeLine{00174\ uint16\_t\ waitAndReadADCChannelWithReference(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference);}
\DoxyCodeLine{00175\ uint16\_t\ waitAndReadADCChannelWithReferenceAndRestoreADMUXAndReference(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference);}
\DoxyCodeLine{00176\ uint16\_t\ readADCChannelWithOversample(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aOversampleExponent);}
\DoxyCodeLine{00177\ \textcolor{keywordtype}{void}\ setADCChannelAndReferenceForNextConversion(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference);}
\DoxyCodeLine{00178\ uint16\_t\ readADCChannelWithReferenceOversampleFast(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint8\_t\ aOversampleExponent);}
\DoxyCodeLine{00179\ uint32\_t\ readADCChannelMultiSamples(uint8\_t\ aPrescale,\ uint16\_t\ aNumberOfSamples);}
\DoxyCodeLine{00180\ uint16\_t\ readADCChannelMultiSamplesWithReference(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint8\_t\ aNumberOfSamples);}
\DoxyCodeLine{00181\ uint32\_t\ readADCChannelMultiSamplesWithReferenceAndPrescaler(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint8\_t\ aPrescale,}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ uint16\_t\ aNumberOfSamples);}
\DoxyCodeLine{00183\ uint16\_t\ readADCChannelWithReferenceMax(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint16\_t\ aNumberOfSamples);}
\DoxyCodeLine{00184\ uint16\_t\ readADCChannelWithReferenceMaxMicros(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint16\_t\ aMicrosecondsToAquire);}
\DoxyCodeLine{00185\ uint16\_t\ readUntil4ConsecutiveValuesAreEqual(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint8\_t\ aDelay,}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ uint8\_t\ aAllowedDifference,\ uint8\_t\ aMaxRetries);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ uint8\_t\ checkAndWaitForReferenceAndChannelToSwitch(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference);}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \textcolor{comment}{/*}}
\DoxyCodeLine{00191\ \textcolor{comment}{\ *\ readVCC*()\ functions\ store\ the\ result\ in\ sVCCVoltageMillivolt\ or\ sVCCVoltage}}
\DoxyCodeLine{00192\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00193\ \textcolor{keywordtype}{float}\ getVCCVoltageSimple(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00194\ \textcolor{keywordtype}{void}\ readVCCVoltageSimple(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00195\ \textcolor{keywordtype}{void}\ readVCCVoltageMillivoltSimple(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00196\ \textcolor{keywordtype}{void}\ readVCCVoltage(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00197\ uint16\_t\ getVCCVoltageMillivolt(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00198\ \textcolor{keywordtype}{void}\ readVCCVoltageMillivolt(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00199\ uint16\_t\ getVCCVoltageReadingFor1\_1VoltReference(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00200\ uint16\_t\ printVCCVoltageMillivolt(Print\ *aSerial);}
\DoxyCodeLine{00201\ \textcolor{keywordtype}{void}\ readAndPrintVCCVoltageMillivolt(Print\ *aSerial);}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ uint16\_t\ getVoltageMillivolt(uint16\_t\ aVCCVoltageMillivolt,\ uint8\_t\ aADCChannelForVoltageMeasurement);}
\DoxyCodeLine{00204\ uint16\_t\ getVoltageMillivolt(uint8\_t\ aADCChannelForVoltageMeasurement);}
\DoxyCodeLine{00205\ uint16\_t\ getVoltageMillivoltWith\_1\_1VoltReference(uint8\_t\ aADCChannelForVoltageMeasurement);}
\DoxyCodeLine{00206\ \textcolor{keywordtype}{float}\ getCPUTemperatureSimple(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00207\ \textcolor{keywordtype}{float}\ getCPUTemperature(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00208\ \textcolor{keywordtype}{float}\ getTemperature(\textcolor{keywordtype}{void})\ \_\_attribute\_\_\ ((deprecated\ (\textcolor{stringliteral}{"{}Renamed\ to\ getCPUTemperature()"{}})));\ \textcolor{comment}{//\ deprecated}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \textcolor{keywordtype}{bool}\ isVCCUSBPowered();}
\DoxyCodeLine{00211\ \textcolor{keywordtype}{bool}\ isVCCUSBPowered(Print\ *aSerial);}
\DoxyCodeLine{00212\ \textcolor{keywordtype}{bool}\ isVCCUndervoltageMultipleTimes();}
\DoxyCodeLine{00213\ \textcolor{keywordtype}{void}\ resetCounterForVCCUndervoltageMultipleTimes();}
\DoxyCodeLine{00214\ \textcolor{keywordtype}{bool}\ isVCCUndervoltage();}
\DoxyCodeLine{00215\ \textcolor{keywordtype}{bool}\ isVCCEmergencyUndervoltage();}
\DoxyCodeLine{00216\ \textcolor{keywordtype}{bool}\ isVCCOvervoltage();}
\DoxyCodeLine{00217\ \textcolor{keywordtype}{bool}\ isVCCOvervoltageSimple();\ \ \textcolor{comment}{//\ Version\ using\ readVCCVoltageMillivoltSimple()}}
\DoxyCodeLine{00218\ \textcolor{keywordtype}{bool}\ isVCCTooHighSimple();\ \ \ \ \ \ \textcolor{comment}{//\ Version\ not\ using\ readVCCVoltageMillivoltSimple()}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \ defined(\_\_AVR\_\_)\ ...}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \textcolor{comment}{/*}}
\DoxyCodeLine{00223\ \textcolor{comment}{\ *\ Variables\ and\ functions\ defined\ as\ dummies\ to\ allow\ for\ seamless\ compiling\ on\ non\ AVR\ platforms}}
\DoxyCodeLine{00224\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00225\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{float}\ sVCCVoltage;}
\DoxyCodeLine{00226\ \textcolor{keyword}{extern}\ uint16\_t\ sVCCVoltageMillivolt;}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ uint16\_t\ readADCChannelWithReferenceOversample(uint8\_t\ aADCChannelNumber,\ uint8\_t\ aReference,\ uint8\_t\ aOversampleExponent);}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ uint16\_t\ getVCCVoltageMillivoltSimple(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00231\ \textcolor{keywordtype}{float}\ getVCCVoltage(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00232\ \textcolor{keywordtype}{float}\ getCPUTemperature(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_ADC\_UTILS\_H}}

\end{DoxyCode}
