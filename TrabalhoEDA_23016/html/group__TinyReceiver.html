<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>1ºFase: Minimal receiver for NEC and FAST protocol</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">1ºFase
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Minimal receiver for NEC and FAST protocol</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTinyIRReceiverStruct.html">TinyIRReceiverStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTinyIRReceiverCallbackDataStruct.html">TinyIRReceiverCallbackDataStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab740dd587f2603ebf1183bd8043e5153" id="r_gab740dd587f2603ebf1183bd8043e5153"><td class="memItemLeft" align="right" valign="top"><a id="gab740dd587f2603ebf1183bd8043e5153" name="gab740dd587f2603ebf1183bd8043e5153"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VERSION_TINYIR</b>&#160;&#160;&#160;&quot;2.2.0&quot;</td></tr>
<tr class="separator:gab740dd587f2603ebf1183bd8043e5153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05c4dfc623d9ab9c3f6c7da81d361a0b" id="r_ga05c4dfc623d9ab9c3f6c7da81d361a0b"><td class="memItemLeft" align="right" valign="top"><a id="ga05c4dfc623d9ab9c3f6c7da81d361a0b" name="ga05c4dfc623d9ab9c3f6c7da81d361a0b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VERSION_TINYIR_MAJOR</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ga05c4dfc623d9ab9c3f6c7da81d361a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbfb8e770c41cbdcf0afd3ef243e0d3c" id="r_gabbfb8e770c41cbdcf0afd3ef243e0d3c"><td class="memItemLeft" align="right" valign="top"><a id="gabbfb8e770c41cbdcf0afd3ef243e0d3c" name="gabbfb8e770c41cbdcf0afd3ef243e0d3c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VERSION_TINYIR_MINOR</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gabbfb8e770c41cbdcf0afd3ef243e0d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8223f29625c671b7a921a502f8cca06d" id="r_ga8223f29625c671b7a921a502f8cca06d"><td class="memItemLeft" align="right" valign="top"><a id="ga8223f29625c671b7a921a502f8cca06d" name="ga8223f29625c671b7a921a502f8cca06d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VERSION_TINYIR_PATCH</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga8223f29625c671b7a921a502f8cca06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ab110e480a4b16fe516c2afd16a1ea2" id="r_ga2ab110e480a4b16fe516c2afd16a1ea2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2ab110e480a4b16fe516c2afd16a1ea2">NEC_ADDRESS_BITS</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ga2ab110e480a4b16fe516c2afd16a1ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07e295da53565eb7146072bdfeb2ed32" id="r_ga07e295da53565eb7146072bdfeb2ed32"><td class="memItemLeft" align="right" valign="top"><a id="ga07e295da53565eb7146072bdfeb2ed32" name="ga07e295da53565eb7146072bdfeb2ed32"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_COMMAND_BITS</b>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ga07e295da53565eb7146072bdfeb2ed32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa82c77bc0131ac28bc3534b8cf3422bc" id="r_gaa82c77bc0131ac28bc3534b8cf3422bc"><td class="memItemLeft" align="right" valign="top"><a id="gaa82c77bc0131ac28bc3534b8cf3422bc" name="gaa82c77bc0131ac28bc3534b8cf3422bc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_BITS</b>&#160;&#160;&#160;(NEC_ADDRESS_BITS + NEC_COMMAND_BITS)</td></tr>
<tr class="separator:gaa82c77bc0131ac28bc3534b8cf3422bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3317b0cf5cf7d3063addbaa0a256158" id="r_gaf3317b0cf5cf7d3063addbaa0a256158"><td class="memItemLeft" align="right" valign="top"><a id="gaf3317b0cf5cf7d3063addbaa0a256158" name="gaf3317b0cf5cf7d3063addbaa0a256158"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_UNIT</b>&#160;&#160;&#160;560</td></tr>
<tr class="separator:gaf3317b0cf5cf7d3063addbaa0a256158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d393b95d8df4dfa15873aec6a37965e" id="r_ga8d393b95d8df4dfa15873aec6a37965e"><td class="memItemLeft" align="right" valign="top"><a id="ga8d393b95d8df4dfa15873aec6a37965e" name="ga8d393b95d8df4dfa15873aec6a37965e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_HEADER_MARK</b>&#160;&#160;&#160;(16 * NEC_UNIT)</td></tr>
<tr class="separator:ga8d393b95d8df4dfa15873aec6a37965e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c728ed320ffee624e26767be0a80404" id="r_ga5c728ed320ffee624e26767be0a80404"><td class="memItemLeft" align="right" valign="top"><a id="ga5c728ed320ffee624e26767be0a80404" name="ga5c728ed320ffee624e26767be0a80404"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_HEADER_SPACE</b>&#160;&#160;&#160;(8 * NEC_UNIT)</td></tr>
<tr class="separator:ga5c728ed320ffee624e26767be0a80404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3abbe30ef3781c1cf2490003e1c1443a" id="r_ga3abbe30ef3781c1cf2490003e1c1443a"><td class="memItemLeft" align="right" valign="top"><a id="ga3abbe30ef3781c1cf2490003e1c1443a" name="ga3abbe30ef3781c1cf2490003e1c1443a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_BIT_MARK</b>&#160;&#160;&#160;NEC_UNIT</td></tr>
<tr class="separator:ga3abbe30ef3781c1cf2490003e1c1443a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ac04ec8b2185c9fb257d39c472733b1" id="r_ga5ac04ec8b2185c9fb257d39c472733b1"><td class="memItemLeft" align="right" valign="top"><a id="ga5ac04ec8b2185c9fb257d39c472733b1" name="ga5ac04ec8b2185c9fb257d39c472733b1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_ONE_SPACE</b>&#160;&#160;&#160;(3 * NEC_UNIT)</td></tr>
<tr class="separator:ga5ac04ec8b2185c9fb257d39c472733b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ee46914e98bf7f87f32a7104843b243" id="r_ga5ee46914e98bf7f87f32a7104843b243"><td class="memItemLeft" align="right" valign="top"><a id="ga5ee46914e98bf7f87f32a7104843b243" name="ga5ee46914e98bf7f87f32a7104843b243"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_ZERO_SPACE</b>&#160;&#160;&#160;NEC_UNIT</td></tr>
<tr class="separator:ga5ee46914e98bf7f87f32a7104843b243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91880ffa0b09391f2c827d3a1c565abf" id="r_ga91880ffa0b09391f2c827d3a1c565abf"><td class="memItemLeft" align="right" valign="top"><a id="ga91880ffa0b09391f2c827d3a1c565abf" name="ga91880ffa0b09391f2c827d3a1c565abf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_REPEAT_HEADER_SPACE</b>&#160;&#160;&#160;(4 * NEC_UNIT)</td></tr>
<tr class="separator:ga91880ffa0b09391f2c827d3a1c565abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2dab5c4a22f8c4915217d3ee4676f08" id="r_gac2dab5c4a22f8c4915217d3ee4676f08"><td class="memItemLeft" align="right" valign="top"><a id="gac2dab5c4a22f8c4915217d3ee4676f08" name="gac2dab5c4a22f8c4915217d3ee4676f08"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_REPEAT_PERIOD</b>&#160;&#160;&#160;110000</td></tr>
<tr class="separator:gac2dab5c4a22f8c4915217d3ee4676f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7445961959fb69fed84c046145402045" id="r_ga7445961959fb69fed84c046145402045"><td class="memItemLeft" align="right" valign="top"><a id="ga7445961959fb69fed84c046145402045" name="ga7445961959fb69fed84c046145402045"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_MINIMAL_DURATION</b>&#160;&#160;&#160;49900</td></tr>
<tr class="separator:ga7445961959fb69fed84c046145402045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39b7e9de38af79c826aff1df717aef6d" id="r_ga39b7e9de38af79c826aff1df717aef6d"><td class="memItemLeft" align="right" valign="top"><a id="ga39b7e9de38af79c826aff1df717aef6d" name="ga39b7e9de38af79c826aff1df717aef6d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEC_MAXIMUM_REPEAT_DISTANCE</b>&#160;&#160;&#160;(NEC_REPEAT_PERIOD - NEC_MINIMAL_DURATION + 10000)</td></tr>
<tr class="separator:ga39b7e9de38af79c826aff1df717aef6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga433cb7141a714640247d749a232f71e9" id="r_ga433cb7141a714640247d749a232f71e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga433cb7141a714640247d749a232f71e9">FAST_KHZ</a>&#160;&#160;&#160;38</td></tr>
<tr class="separator:ga433cb7141a714640247d749a232f71e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31545568310c2a958279c3cb31287067" id="r_ga31545568310c2a958279c3cb31287067"><td class="memItemLeft" align="right" valign="top"><a id="ga31545568310c2a958279c3cb31287067" name="ga31545568310c2a958279c3cb31287067"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_ADDRESS_BITS</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga31545568310c2a958279c3cb31287067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cd04aae5069c6ca9bb6f537574f5f01" id="r_ga8cd04aae5069c6ca9bb6f537574f5f01"><td class="memItemLeft" align="right" valign="top"><a id="ga8cd04aae5069c6ca9bb6f537574f5f01" name="ga8cd04aae5069c6ca9bb6f537574f5f01"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_COMMAND_BITS</b>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ga8cd04aae5069c6ca9bb6f537574f5f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd78822c51f4692289f2ce174bdf82b0" id="r_gadd78822c51f4692289f2ce174bdf82b0"><td class="memItemLeft" align="right" valign="top"><a id="gadd78822c51f4692289f2ce174bdf82b0" name="gadd78822c51f4692289f2ce174bdf82b0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_BITS</b>&#160;&#160;&#160;(FAST_ADDRESS_BITS + FAST_COMMAND_BITS)</td></tr>
<tr class="separator:gadd78822c51f4692289f2ce174bdf82b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8ee2ed0948e4f4382b020c5bcea4e8f" id="r_gaa8ee2ed0948e4f4382b020c5bcea4e8f"><td class="memItemLeft" align="right" valign="top"><a id="gaa8ee2ed0948e4f4382b020c5bcea4e8f" name="gaa8ee2ed0948e4f4382b020c5bcea4e8f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_UNIT</b>&#160;&#160;&#160;526</td></tr>
<tr class="separator:gaa8ee2ed0948e4f4382b020c5bcea4e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0e804e9cefa097c4f675793f68e1872" id="r_gad0e804e9cefa097c4f675793f68e1872"><td class="memItemLeft" align="right" valign="top"><a id="gad0e804e9cefa097c4f675793f68e1872" name="gad0e804e9cefa097c4f675793f68e1872"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_BIT_MARK</b>&#160;&#160;&#160;FAST_UNIT</td></tr>
<tr class="separator:gad0e804e9cefa097c4f675793f68e1872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3328b696c6fa6b4dcf75fd608ede42be" id="r_ga3328b696c6fa6b4dcf75fd608ede42be"><td class="memItemLeft" align="right" valign="top"><a id="ga3328b696c6fa6b4dcf75fd608ede42be" name="ga3328b696c6fa6b4dcf75fd608ede42be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_ONE_SPACE</b>&#160;&#160;&#160;(3 * FAST_UNIT)</td></tr>
<tr class="separator:ga3328b696c6fa6b4dcf75fd608ede42be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45f7bfdc1ec78bb187031df82d97a9b1" id="r_ga45f7bfdc1ec78bb187031df82d97a9b1"><td class="memItemLeft" align="right" valign="top"><a id="ga45f7bfdc1ec78bb187031df82d97a9b1" name="ga45f7bfdc1ec78bb187031df82d97a9b1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_ZERO_SPACE</b>&#160;&#160;&#160;FAST_UNIT</td></tr>
<tr class="separator:ga45f7bfdc1ec78bb187031df82d97a9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga533fde31d6c3cab34ddeefbe26183427" id="r_ga533fde31d6c3cab34ddeefbe26183427"><td class="memItemLeft" align="right" valign="top"><a id="ga533fde31d6c3cab34ddeefbe26183427" name="ga533fde31d6c3cab34ddeefbe26183427"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_HEADER_MARK</b>&#160;&#160;&#160;(4 * FAST_UNIT)</td></tr>
<tr class="separator:ga533fde31d6c3cab34ddeefbe26183427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14bff3efcd02e7c95ffb4a1220e7b86a" id="r_ga14bff3efcd02e7c95ffb4a1220e7b86a"><td class="memItemLeft" align="right" valign="top"><a id="ga14bff3efcd02e7c95ffb4a1220e7b86a" name="ga14bff3efcd02e7c95ffb4a1220e7b86a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_HEADER_SPACE</b>&#160;&#160;&#160;(2 * FAST_UNIT)</td></tr>
<tr class="separator:ga14bff3efcd02e7c95ffb4a1220e7b86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c359cbdc94b7c6c8e7fdcd5554f82d3" id="r_ga2c359cbdc94b7c6c8e7fdcd5554f82d3"><td class="memItemLeft" align="right" valign="top"><a id="ga2c359cbdc94b7c6c8e7fdcd5554f82d3" name="ga2c359cbdc94b7c6c8e7fdcd5554f82d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_REPEAT_PERIOD</b>&#160;&#160;&#160;50000</td></tr>
<tr class="separator:ga2c359cbdc94b7c6c8e7fdcd5554f82d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga134f64dbd20f429bdced06c5968ae6db" id="r_ga134f64dbd20f429bdced06c5968ae6db"><td class="memItemLeft" align="right" valign="top"><a id="ga134f64dbd20f429bdced06c5968ae6db" name="ga134f64dbd20f429bdced06c5968ae6db"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_REPEAT_DISTANCE</b>&#160;&#160;&#160;(FAST_REPEAT_PERIOD - (55 * FAST_UNIT))</td></tr>
<tr class="separator:ga134f64dbd20f429bdced06c5968ae6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac531fcf99de73123948940ccca7d7bb" id="r_gaac531fcf99de73123948940ccca7d7bb"><td class="memItemLeft" align="right" valign="top"><a id="gaac531fcf99de73123948940ccca7d7bb" name="gaac531fcf99de73123948940ccca7d7bb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAST_MAXIMUM_REPEAT_DISTANCE</b>&#160;&#160;&#160;(FAST_REPEAT_DISTANCE + 10000)</td></tr>
<tr class="separator:gaac531fcf99de73123948940ccca7d7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa86e62c87863e10d44fcf9047d3802bd" id="r_gaa86e62c87863e10d44fcf9047d3802bd"><td class="memItemLeft" align="right" valign="top"><a id="gaa86e62c87863e10d44fcf9047d3802bd" name="gaa86e62c87863e10d44fcf9047d3802bd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_ADDRESS_BITS</b>&#160;&#160;&#160;NEC_ADDRESS_BITS</td></tr>
<tr class="separator:gaa86e62c87863e10d44fcf9047d3802bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga771b0ae69abb340bb723b3e49698e946" id="r_ga771b0ae69abb340bb723b3e49698e946"><td class="memItemLeft" align="right" valign="top"><a id="ga771b0ae69abb340bb723b3e49698e946" name="ga771b0ae69abb340bb723b3e49698e946"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_ADDRESS_HAS_8_BIT_PARITY</b>&#160;&#160;&#160;true</td></tr>
<tr class="separator:ga771b0ae69abb340bb723b3e49698e946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf2baa0ff9b72fa7543d4f733d07b43c" id="r_gadf2baa0ff9b72fa7543d4f733d07b43c"><td class="memItemLeft" align="right" valign="top"><a id="gadf2baa0ff9b72fa7543d4f733d07b43c" name="gadf2baa0ff9b72fa7543d4f733d07b43c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_COMMAND_BITS</b>&#160;&#160;&#160;NEC_COMMAND_BITS</td></tr>
<tr class="separator:gadf2baa0ff9b72fa7543d4f733d07b43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c1b71ffa47b7ca81c1152040d512ccf" id="r_ga8c1b71ffa47b7ca81c1152040d512ccf"><td class="memItemLeft" align="right" valign="top"><a id="ga8c1b71ffa47b7ca81c1152040d512ccf" name="ga8c1b71ffa47b7ca81c1152040d512ccf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_COMMAND_HAS_8_BIT_PARITY</b>&#160;&#160;&#160;true</td></tr>
<tr class="separator:ga8c1b71ffa47b7ca81c1152040d512ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga175ce9f07102c40f6cb730f12ddb6a17" id="r_ga175ce9f07102c40f6cb730f12ddb6a17"><td class="memItemLeft" align="right" valign="top"><a id="ga175ce9f07102c40f6cb730f12ddb6a17" name="ga175ce9f07102c40f6cb730f12ddb6a17"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_BITS</b>&#160;&#160;&#160;NEC_BITS</td></tr>
<tr class="separator:ga175ce9f07102c40f6cb730f12ddb6a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2ffd84c9910eae58166b1e71f3c1c9e" id="r_gae2ffd84c9910eae58166b1e71f3c1c9e"><td class="memItemLeft" align="right" valign="top"><a id="gae2ffd84c9910eae58166b1e71f3c1c9e" name="gae2ffd84c9910eae58166b1e71f3c1c9e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_UNIT</b>&#160;&#160;&#160;NEC_UNIT</td></tr>
<tr class="separator:gae2ffd84c9910eae58166b1e71f3c1c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02b86589f51233381c98c1d8fecb16cf" id="r_ga02b86589f51233381c98c1d8fecb16cf"><td class="memItemLeft" align="right" valign="top"><a id="ga02b86589f51233381c98c1d8fecb16cf" name="ga02b86589f51233381c98c1d8fecb16cf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_HEADER_MARK</b>&#160;&#160;&#160;NEC_HEADER_MARK</td></tr>
<tr class="separator:ga02b86589f51233381c98c1d8fecb16cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8a578b8524aec9a94c33b8d869429c8" id="r_gad8a578b8524aec9a94c33b8d869429c8"><td class="memItemLeft" align="right" valign="top"><a id="gad8a578b8524aec9a94c33b8d869429c8" name="gad8a578b8524aec9a94c33b8d869429c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_HEADER_SPACE</b>&#160;&#160;&#160;NEC_HEADER_SPACE</td></tr>
<tr class="separator:gad8a578b8524aec9a94c33b8d869429c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa70bb82f3342768a4c569172a475fe41" id="r_gaa70bb82f3342768a4c569172a475fe41"><td class="memItemLeft" align="right" valign="top"><a id="gaa70bb82f3342768a4c569172a475fe41" name="gaa70bb82f3342768a4c569172a475fe41"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_BIT_MARK</b>&#160;&#160;&#160;NEC_BIT_MARK</td></tr>
<tr class="separator:gaa70bb82f3342768a4c569172a475fe41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fb6634355355f0430d1017a17e837ca" id="r_ga2fb6634355355f0430d1017a17e837ca"><td class="memItemLeft" align="right" valign="top"><a id="ga2fb6634355355f0430d1017a17e837ca" name="ga2fb6634355355f0430d1017a17e837ca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_ONE_SPACE</b>&#160;&#160;&#160;NEC_ONE_SPACE</td></tr>
<tr class="separator:ga2fb6634355355f0430d1017a17e837ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45b68ccfb2ae010dd9c7d3a48d12810b" id="r_ga45b68ccfb2ae010dd9c7d3a48d12810b"><td class="memItemLeft" align="right" valign="top"><a id="ga45b68ccfb2ae010dd9c7d3a48d12810b" name="ga45b68ccfb2ae010dd9c7d3a48d12810b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_ZERO_SPACE</b>&#160;&#160;&#160;NEC_ZERO_SPACE</td></tr>
<tr class="separator:ga45b68ccfb2ae010dd9c7d3a48d12810b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3cedd13814cc47e25d501fea6d9d90e" id="r_gad3cedd13814cc47e25d501fea6d9d90e"><td class="memItemLeft" align="right" valign="top"><a id="gad3cedd13814cc47e25d501fea6d9d90e" name="gad3cedd13814cc47e25d501fea6d9d90e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_MAXIMUM_REPEAT_DISTANCE</b>&#160;&#160;&#160;NEC_MAXIMUM_REPEAT_DISTANCE</td></tr>
<tr class="separator:gad3cedd13814cc47e25d501fea6d9d90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf33c8a218dd35ede965cf20a68a0068d" id="r_gaf33c8a218dd35ede965cf20a68a0068d"><td class="memItemLeft" align="right" valign="top"><a id="gaf33c8a218dd35ede965cf20a68a0068d" name="gaf33c8a218dd35ede965cf20a68a0068d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MICROS_IN_ONE_SECOND</b>&#160;&#160;&#160;1000000L</td></tr>
<tr class="separator:gaf33c8a218dd35ede965cf20a68a0068d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9ba0b7dd556e22688f7da01019bba68" id="r_gae9ba0b7dd556e22688f7da01019bba68"><td class="memItemLeft" align="right" valign="top"><a id="gae9ba0b7dd556e22688f7da01019bba68" name="gae9ba0b7dd556e22688f7da01019bba68"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MICROS_IN_ONE_MILLI</b>&#160;&#160;&#160;1000L</td></tr>
<tr class="separator:gae9ba0b7dd556e22688f7da01019bba68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02b97ed6af9381a224ea3be0cab054a0" id="r_ga02b97ed6af9381a224ea3be0cab054a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga02b97ed6af9381a224ea3be0cab054a0">lowerValue25Percent</a>(aDuration)</td></tr>
<tr class="separator:ga02b97ed6af9381a224ea3be0cab054a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22a6cd77d395a6c06686eafdf9aa2b52" id="r_ga22a6cd77d395a6c06686eafdf9aa2b52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga22a6cd77d395a6c06686eafdf9aa2b52">upperValue25Percent</a>(aDuration)</td></tr>
<tr class="separator:ga22a6cd77d395a6c06686eafdf9aa2b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46e492bdd0789424ce0c1eafdaddcd05" id="r_ga46e492bdd0789424ce0c1eafdaddcd05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga46e492bdd0789424ce0c1eafdaddcd05">lowerValue50Percent</a>(aDuration)</td></tr>
<tr class="separator:ga46e492bdd0789424ce0c1eafdaddcd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga352aba643df683019cddd3ae28c80def" id="r_ga352aba643df683019cddd3ae28c80def"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga352aba643df683019cddd3ae28c80def">upperValue50Percent</a>(aDuration)</td></tr>
<tr class="separator:ga352aba643df683019cddd3ae28c80def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2535b0f1ae380b696c6a37ffa69b3df3" id="r_ga2535b0f1ae380b696c6a37ffa69b3df3"><td class="memItemLeft" align="right" valign="top"><a id="ga2535b0f1ae380b696c6a37ffa69b3df3" name="ga2535b0f1ae380b696c6a37ffa69b3df3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVER_STATE_WAITING_FOR_START_MARK</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga2535b0f1ae380b696c6a37ffa69b3df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43017cba7c72b3f0d45265f417e5195d" id="r_ga43017cba7c72b3f0d45265f417e5195d"><td class="memItemLeft" align="right" valign="top"><a id="ga43017cba7c72b3f0d45265f417e5195d" name="ga43017cba7c72b3f0d45265f417e5195d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVER_STATE_WAITING_FOR_START_SPACE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga43017cba7c72b3f0d45265f417e5195d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecf505182d1fa2aa885fcde6cd4160bf" id="r_gaecf505182d1fa2aa885fcde6cd4160bf"><td class="memItemLeft" align="right" valign="top"><a id="gaecf505182d1fa2aa885fcde6cd4160bf" name="gaecf505182d1fa2aa885fcde6cd4160bf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVER_STATE_WAITING_FOR_FIRST_DATA_MARK</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gaecf505182d1fa2aa885fcde6cd4160bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3b7237c2aa120840c0eed233d5c627e" id="r_gad3b7237c2aa120840c0eed233d5c627e"><td class="memItemLeft" align="right" valign="top"><a id="gad3b7237c2aa120840c0eed233d5c627e" name="gad3b7237c2aa120840c0eed233d5c627e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVER_STATE_WAITING_FOR_DATA_SPACE</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:gad3b7237c2aa120840c0eed233d5c627e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae237abb240b59b9c8dd7d853fc3c76b1" id="r_gae237abb240b59b9c8dd7d853fc3c76b1"><td class="memItemLeft" align="right" valign="top"><a id="gae237abb240b59b9c8dd7d853fc3c76b1" name="gae237abb240b59b9c8dd7d853fc3c76b1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVER_STATE_WAITING_FOR_DATA_MARK</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:gae237abb240b59b9c8dd7d853fc3c76b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f6f17e18c7b5f1ef4b9cfc907d086e4" id="r_ga2f6f17e18c7b5f1ef4b9cfc907d086e4"><td class="memItemLeft" align="right" valign="top"><a id="ga2f6f17e18c7b5f1ef4b9cfc907d086e4" name="ga2f6f17e18c7b5f1ef4b9cfc907d086e4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVER_STATE_WAITING_FOR_STOP_MARK</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ga2f6f17e18c7b5f1ef4b9cfc907d086e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad670ce496c4a3352cb9929284db11928" id="r_gad670ce496c4a3352cb9929284db11928"><td class="memItemLeft" align="right" valign="top"><a id="gad670ce496c4a3352cb9929284db11928" name="gad670ce496c4a3352cb9929284db11928"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IRDATA_FLAGS_EMPTY</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:gad670ce496c4a3352cb9929284db11928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa9952cd64b58083c28873484c494abf" id="r_gaaa9952cd64b58083c28873484c494abf"><td class="memItemLeft" align="right" valign="top"><a id="gaaa9952cd64b58083c28873484c494abf" name="gaaa9952cd64b58083c28873484c494abf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IRDATA_FLAGS_IS_REPEAT</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:gaaa9952cd64b58083c28873484c494abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c5e6ae69aa440bfa132550d120ace08" id="r_ga5c5e6ae69aa440bfa132550d120ace08"><td class="memItemLeft" align="right" valign="top"><a id="ga5c5e6ae69aa440bfa132550d120ace08" name="ga5c5e6ae69aa440bfa132550d120ace08"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IRDATA_FLAGS_IS_AUTO_REPEAT</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:ga5c5e6ae69aa440bfa132550d120ace08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a60f95f0885b1865dc5514ddd80e093" id="r_ga1a60f95f0885b1865dc5514ddd80e093"><td class="memItemLeft" align="right" valign="top"><a id="ga1a60f95f0885b1865dc5514ddd80e093" name="ga1a60f95f0885b1865dc5514ddd80e093"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IRDATA_FLAGS_PARITY_FAILED</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:ga1a60f95f0885b1865dc5514ddd80e093"><td class="mdescLeft">&#160;</td><td class="mdescRight">the current (autorepeat) frame violated parity check <br /></td></tr>
<tr class="separator:ga1a60f95f0885b1865dc5514ddd80e093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32204b2259848fb5fdcf5cec09b6437a" id="r_ga32204b2259848fb5fdcf5cec09b6437a"><td class="memItemLeft" align="right" valign="top"><a id="ga32204b2259848fb5fdcf5cec09b6437a" name="ga32204b2259848fb5fdcf5cec09b6437a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR_RECEIVE_PIN</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ga32204b2259848fb5fdcf5cec09b6437a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7054616db7e69e979dfcd5ad38fb968" id="r_gae7054616db7e69e979dfcd5ad38fb968"><td class="memItemLeft" align="right" valign="top"><a id="gae7054616db7e69e979dfcd5ad38fb968" name="gae7054616db7e69e979dfcd5ad38fb968"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TINY_RECEIVER_USE_ARDUINO_ATTACH_INTERRUPT</b></td></tr>
<tr class="separator:gae7054616db7e69e979dfcd5ad38fb968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafae76562a7daac7eba30e8c5439f2cf7" id="r_gafae76562a7daac7eba30e8c5439f2cf7"><td class="memItemLeft" align="right" valign="top"><a id="gafae76562a7daac7eba30e8c5439f2cf7" name="gafae76562a7daac7eba30e8c5439f2cf7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USE_ATTACH_INTERRUPT</b></td></tr>
<tr class="separator:gafae76562a7daac7eba30e8c5439f2cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2553571086097dd6e7ba319a6da2c743" id="r_ga2553571086097dd6e7ba319a6da2c743"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2553571086097dd6e7ba319a6da2c743">isIRReceiverAttachedForTinyReceiver</a> ()</td></tr>
<tr class="separator:ga2553571086097dd6e7ba319a6da2c743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaafb51bc656ba199129d261afa3f950c2" id="r_gaafb51bc656ba199129d261afa3f950c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaafb51bc656ba199129d261afa3f950c2">initPCIInterruptForTinyReceiver</a> ()</td></tr>
<tr class="separator:gaafb51bc656ba199129d261afa3f950c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc1eec5de7563e88aa73d16aa9e60a10" id="r_gacc1eec5de7563e88aa73d16aa9e60a10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacc1eec5de7563e88aa73d16aa9e60a10">enablePCIInterruptForTinyReceiver</a> ()</td></tr>
<tr class="separator:gacc1eec5de7563e88aa73d16aa9e60a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4217cae1ded4a9b2ed54bc3a1e8cd86e" id="r_ga4217cae1ded4a9b2ed54bc3a1e8cd86e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4217cae1ded4a9b2ed54bc3a1e8cd86e">disablePCIInterruptForTinyReceiver</a> ()</td></tr>
<tr class="separator:ga4217cae1ded4a9b2ed54bc3a1e8cd86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab65e33fe496d3bee4af897e5d8bd9420" id="r_gab65e33fe496d3bee4af897e5d8bd9420"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab65e33fe496d3bee4af897e5d8bd9420">isTinyReceiverIdle</a> ()</td></tr>
<tr class="separator:gab65e33fe496d3bee4af897e5d8bd9420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa97ef3a9ba3e40bd50a906788b65e79a" id="r_gaa97ef3a9ba3e40bd50a906788b65e79a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa97ef3a9ba3e40bd50a906788b65e79a">TinyReceiverDecode</a> ()</td></tr>
<tr class="separator:gaa97ef3a9ba3e40bd50a906788b65e79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27649645d9280dfaee8095ce2dcf8f07" id="r_ga27649645d9280dfaee8095ce2dcf8f07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga27649645d9280dfaee8095ce2dcf8f07">printTinyReceiverResultMinimal</a> (Print *aSerial)</td></tr>
<tr class="separator:ga27649645d9280dfaee8095ce2dcf8f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d40a2ebca50382f9ddc8210cd82ebcd" id="r_ga5d40a2ebca50382f9ddc8210cd82ebcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5d40a2ebca50382f9ddc8210cd82ebcd">sendFAST</a> (uint8_t aSendPin, uint16_t aCommand, uint_fast8_t aNumberOfRepeats=0)</td></tr>
<tr class="separator:ga5d40a2ebca50382f9ddc8210cd82ebcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21e45ae5abbd50dcf77693c87c01cc71" id="r_ga21e45ae5abbd50dcf77693c87c01cc71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga21e45ae5abbd50dcf77693c87c01cc71">sendFast8BitAndParity</a> (uint8_t aSendPin, uint8_t aCommand, uint_fast8_t aNumberOfRepeats=0)</td></tr>
<tr class="separator:ga21e45ae5abbd50dcf77693c87c01cc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42ba5dff1100c121334ae46c000631e2" id="r_ga42ba5dff1100c121334ae46c000631e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga42ba5dff1100c121334ae46c000631e2">sendONKYO</a> (uint8_t aSendPin, uint16_t aAddress, uint16_t aCommand, uint_fast8_t aNumberOfRepeats=0, bool aSendNEC2Repeats=false)</td></tr>
<tr class="separator:ga42ba5dff1100c121334ae46c000631e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad46384dcfa939b9ed9538b6c907acb1f" id="r_gad46384dcfa939b9ed9538b6c907acb1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad46384dcfa939b9ed9538b6c907acb1f">sendNECMinimal</a> (uint8_t aSendPin, uint16_t aAddress, uint16_t aCommand, uint_fast8_t aNumberOfRepeats=0) __attribute__((deprecated(&quot;Renamed to sendNEC().&quot;)))</td></tr>
<tr class="separator:gad46384dcfa939b9ed9538b6c907acb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad56f6ae51db2f76f6b48bd6eb621b55d" id="r_gad56f6ae51db2f76f6b48bd6eb621b55d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad56f6ae51db2f76f6b48bd6eb621b55d">sendNEC</a> (uint8_t aSendPin, uint16_t aAddress, uint16_t aCommand, uint_fast8_t aNumberOfRepeats=0, bool aSendNEC2Repeats=false)</td></tr>
<tr class="separator:gad56f6ae51db2f76f6b48bd6eb621b55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f9e7eb2572eabb1fb55a5e112a7afdb" id="r_ga2f9e7eb2572eabb1fb55a5e112a7afdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2f9e7eb2572eabb1fb55a5e112a7afdb">sendExtendedNEC</a> (uint8_t aSendPin, uint16_t aAddress, uint16_t aCommand, uint_fast8_t aNumberOfRepeats=0, bool aSendNEC2Repeats=false)</td></tr>
<tr class="separator:ga2f9e7eb2572eabb1fb55a5e112a7afdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa968353e3a3d31ca950fe4dd5be38b71" id="r_gaa968353e3a3d31ca950fe4dd5be38b71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa968353e3a3d31ca950fe4dd5be38b71">handleTinyReceivedIRData</a> ()</td></tr>
<tr class="separator:gaa968353e3a3d31ca950fe4dd5be38b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c3d6703d25dbcc0555823e23eec0e69" id="r_ga3c3d6703d25dbcc0555823e23eec0e69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3c3d6703d25dbcc0555823e23eec0e69">IRPinChangeInterruptHandler</a> (void)</td></tr>
<tr class="separator:ga3c3d6703d25dbcc0555823e23eec0e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab367546db9f1c8a232471ca8b6e27053" id="r_gab367546db9f1c8a232471ca8b6e27053"><td class="memItemLeft" align="right" valign="top"><a id="gab367546db9f1c8a232471ca8b6e27053" name="gab367546db9f1c8a232471ca8b6e27053"></a>
volatile <a class="el" href="structTinyIRReceiverCallbackDataStruct.html">TinyIRReceiverCallbackDataStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TinyIRReceiverData</b></td></tr>
<tr class="separator:gab367546db9f1c8a232471ca8b6e27053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30567324f26c2fae24bb11592262b6d3" id="r_ga30567324f26c2fae24bb11592262b6d3"><td class="memItemLeft" align="right" valign="top"><a id="ga30567324f26c2fae24bb11592262b6d3" name="ga30567324f26c2fae24bb11592262b6d3"></a>
<a class="el" href="structTinyIRReceiverStruct.html">TinyIRReceiverStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TinyIRReceiverControl</b></td></tr>
<tr class="separator:ga30567324f26c2fae24bb11592262b6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab367546db9f1c8a232471ca8b6e27053" id="r_gab367546db9f1c8a232471ca8b6e27053"><td class="memItemLeft" align="right" valign="top"><a id="gab367546db9f1c8a232471ca8b6e27053" name="gab367546db9f1c8a232471ca8b6e27053"></a>
volatile <a class="el" href="structTinyIRReceiverCallbackDataStruct.html">TinyIRReceiverCallbackDataStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TinyIRReceiverData</b></td></tr>
<tr class="separator:gab367546db9f1c8a232471ca8b6e27053"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga433cb7141a714640247d749a232f71e9" name="ga433cb7141a714640247d749a232f71e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga433cb7141a714640247d749a232f71e9">&#9670;&#160;</a></span>FAST_KHZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAST_KHZ&#160;&#160;&#160;38</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The FAST protocol is a proprietary modified JVC protocol without address, with parity and with a shorter header. FAST protocol characteristics:</p><ul>
<li>Bit timing is like NEC or JVC</li>
<li>The header is shorter, 3156 vs. 12500</li>
<li>No address and 16 bit data, interpreted as 8 bit command and 8 bit inverted command, leading to a fixed protocol length of (6 + (16 * 3) + 1) * 526 = 55 * 526 = 28930 microseconds or 29 ms.</li>
<li>Repeats are sent as complete frames but in a 50 ms period / with a 21 ms distance. </li>
</ul>

</div>
</div>
<a id="ga02b97ed6af9381a224ea3be0cab054a0" name="ga02b97ed6af9381a224ea3be0cab054a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02b97ed6af9381a224ea3be0cab054a0">&#9670;&#160;</a></span>lowerValue25Percent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lowerValue25Percent</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>aDuration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(aDuration - (aDuration / 4))</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga46e492bdd0789424ce0c1eafdaddcd05" name="ga46e492bdd0789424ce0c1eafdaddcd05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46e492bdd0789424ce0c1eafdaddcd05">&#9670;&#160;</a></span>lowerValue50Percent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lowerValue50Percent</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>aDuration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(aDuration / 2)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2ab110e480a4b16fe516c2afd16a1ea2" name="ga2ab110e480a4b16fe516c2afd16a1ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ab110e480a4b16fe516c2afd16a1ea2">&#9670;&#160;</a></span>NEC_ADDRESS_BITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEC_ADDRESS_BITS&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timing for NEC protocol</p>
<p>see: <a href="https://www.sbprojects.net/knowledge/ir/nec.php">https://www.sbprojects.net/knowledge/ir/nec.php</a> LSB first, 1 start bit + 16 bit address + 8 bit data + 8 bit inverted data + 1 stop bit. </p>

</div>
</div>
<a id="ga22a6cd77d395a6c06686eafdf9aa2b52" name="ga22a6cd77d395a6c06686eafdf9aa2b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22a6cd77d395a6c06686eafdf9aa2b52">&#9670;&#160;</a></span>upperValue25Percent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define upperValue25Percent</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>aDuration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(aDuration + (aDuration / 4))</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga352aba643df683019cddd3ae28c80def" name="ga352aba643df683019cddd3ae28c80def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga352aba643df683019cddd3ae28c80def">&#9670;&#160;</a></span>upperValue50Percent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define upperValue50Percent</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>aDuration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(aDuration + (aDuration / 2))</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4217cae1ded4a9b2ed54bc3a1e8cd86e" name="ga4217cae1ded4a9b2ed54bc3a1e8cd86e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4217cae1ded4a9b2ed54bc3a1e8cd86e">&#9670;&#160;</a></span>disablePCIInterruptForTinyReceiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disablePCIInterruptForTinyReceiver </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  630</span>                                          {</div>
<div class="line"><span class="lineno">  631</span><span class="preprocessor">#if defined(_IR_MEASURE_TIMING) &amp;&amp; defined(_IR_TIMING_TEST_PIN)</span></div>
<div class="line"><span class="lineno">  632</span>    pinModeFast(_IR_TIMING_TEST_PIN, OUTPUT);</div>
<div class="line"><span class="lineno">  633</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span><span class="preprocessor">#if defined(USE_ATTACH_INTERRUPT) || defined(USE_ATTACH_INTERRUPT_DIRECT)</span></div>
<div class="line"><span class="lineno">  636</span><span class="preprocessor">#  if defined(USE_ATTACH_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  637</span>    detachInterrupt(digitalPinToInterrupt(IR_RECEIVE_PIN));</div>
<div class="line"><span class="lineno">  638</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  639</span>    detachInterrupt(IR_RECEIVE_PIN);</div>
<div class="line"><span class="lineno">  640</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  643</span><span class="preprocessor">#  if defined(USE_INT0)</span></div>
<div class="line"><span class="lineno">  644</span>    <span class="comment">// clear interrupt bit</span></div>
<div class="line"><span class="lineno">  645</span>    EIFR |= 1 &lt;&lt; INTF0;</div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">// disable interrupt on next change</span></div>
<div class="line"><span class="lineno">  647</span>    EIMSK &amp;= ~(1 &lt;&lt; INT0);</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span><span class="preprocessor">#  elif defined(USE_INT1)</span></div>
<div class="line"><span class="lineno">  650</span>    <span class="comment">// clear interrupt bit</span></div>
<div class="line"><span class="lineno">  651</span>    EIFR |= 1 &lt;&lt; INTF1;</div>
<div class="line"><span class="lineno">  652</span>    <span class="comment">// disable interrupt on next change</span></div>
<div class="line"><span class="lineno">  653</span>    EIMSK &amp;= ~(1 &lt;&lt; INT1);</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span><span class="preprocessor">#  elif defined(USE_PCIE) </span><span class="comment">// For ATtiny85 etc.</span></div>
<div class="line"><span class="lineno">  656</span>    <span class="comment">// clear interrupt bit</span></div>
<div class="line"><span class="lineno">  657</span>    GIFR |= 1 &lt;&lt; PCIF;</div>
<div class="line"><span class="lineno">  658</span>    <span class="comment">// disable interrupt on next change</span></div>
<div class="line"><span class="lineno">  659</span>    GIMSK &amp;= ~(1 &lt;&lt; PCIE);</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span><span class="preprocessor">#  elif defined(USE_PCINT0)</span></div>
<div class="line"><span class="lineno">  662</span>    PCICR &amp;= ~(_BV(PCIE0));</div>
<div class="line"><span class="lineno">  663</span><span class="preprocessor">#  elif defined(USE_PCINT1)</span></div>
<div class="line"><span class="lineno">  664</span>    PCICR &amp;= ~(_BV(PCIE1));</div>
<div class="line"><span class="lineno">  665</span><span class="preprocessor">#  elif defined(USE_PCINT2)</span></div>
<div class="line"><span class="lineno">  666</span>    PCICR &amp;= ~(_BV(PCIE2));</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  669</span><span class="preprocessor">#endif </span><span class="comment">// defined(USE_ATTACH_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  670</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gacc1eec5de7563e88aa73d16aa9e60a10" name="gacc1eec5de7563e88aa73d16aa9e60a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc1eec5de7563e88aa73d16aa9e60a10">&#9670;&#160;</a></span>enablePCIInterruptForTinyReceiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool enablePCIInterruptForTinyReceiver </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes hardware interrupt generation according to IR_RECEIVE_PIN or use attachInterrupt() function. </p><dl class="section return"><dt>Returns</dt><dd>true if interrupt was successfully enabled </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  564</span>                                         {</div>
<div class="line"><span class="lineno">  565</span><span class="preprocessor">#if defined(_IR_MEASURE_TIMING) &amp;&amp; defined(_IR_TIMING_TEST_PIN)</span></div>
<div class="line"><span class="lineno">  566</span>    pinModeFast(_IR_TIMING_TEST_PIN, OUTPUT);</div>
<div class="line"><span class="lineno">  567</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span><span class="preprocessor">#if defined(USE_ATTACH_INTERRUPT) || defined(USE_ATTACH_INTERRUPT_DIRECT)</span></div>
<div class="line"><span class="lineno">  570</span><span class="preprocessor">#  if defined(USE_ATTACH_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  571</span><span class="preprocessor">#if defined(NOT_AN_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">if</span>(digitalPinToInterrupt(IR_RECEIVE_PIN) == NOT_AN_INTERRUPT){</div>
<div class="line"><span class="lineno">  573</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  574</span>    }</div>
<div class="line"><span class="lineno">  575</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  576</span>    <span class="comment">// costs 112 bytes program memory + 4 bytes RAM</span></div>
<div class="line"><span class="lineno">  577</span>    attachInterrupt(digitalPinToInterrupt(IR_RECEIVE_PIN), <a class="code hl_function" href="#ga3c3d6703d25dbcc0555823e23eec0e69">IRPinChangeInterruptHandler</a>, CHANGE);</div>
<div class="line"><span class="lineno">  578</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="comment">// 2.2 us more than version configured with macros and not compatible</span></div>
<div class="line"><span class="lineno">  580</span>    attachInterrupt(IR_RECEIVE_PIN, <a class="code hl_function" href="#ga3c3d6703d25dbcc0555823e23eec0e69">IRPinChangeInterruptHandler</a>, CHANGE); <span class="comment">// no extra pin mapping here</span></div>
<div class="line"><span class="lineno">  581</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span><span class="preprocessor">#  if defined(LOCAL_DEBUG_ATTACH_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  584</span>    Serial.println(F(<span class="stringliteral">&quot;Use attachInterrupt for pin=&quot;</span> STR(IR_RECEIVE_PIN)));</div>
<div class="line"><span class="lineno">  585</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  588</span><span class="preprocessor">#  if defined(LOCAL_DEBUG_ATTACH_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  589</span>    Serial.println(F(<span class="stringliteral">&quot;Use static interrupt for pin=&quot;</span> STR(IR_RECEIVE_PIN)));</div>
<div class="line"><span class="lineno">  590</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  591</span><span class="preprocessor">#  if defined(USE_INT0)</span></div>
<div class="line"><span class="lineno">  592</span>    <span class="comment">// interrupt on any logical change</span></div>
<div class="line"><span class="lineno">  593</span>    EICRA |= _BV(ISC00);</div>
<div class="line"><span class="lineno">  594</span>    <span class="comment">// clear interrupt bit</span></div>
<div class="line"><span class="lineno">  595</span>    EIFR |= 1 &lt;&lt; INTF0;</div>
<div class="line"><span class="lineno">  596</span>    <span class="comment">// enable interrupt on next change</span></div>
<div class="line"><span class="lineno">  597</span>    EIMSK |= 1 &lt;&lt; INT0;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span><span class="preprocessor">#  elif defined(USE_INT1)</span></div>
<div class="line"><span class="lineno">  600</span>    EICRA |= _BV(ISC10);</div>
<div class="line"><span class="lineno">  601</span><span class="comment">// clear interrupt bit</span></div>
<div class="line"><span class="lineno">  602</span>    EIFR |= 1 &lt;&lt; INTF1;</div>
<div class="line"><span class="lineno">  603</span><span class="comment">// enable interrupt on next change</span></div>
<div class="line"><span class="lineno">  604</span>    EIMSK |= 1 &lt;&lt; INT1;</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span><span class="preprocessor">#  elif defined(USE_PCIE) </span><span class="comment">// For ATtiny85 etc.</span></div>
<div class="line"><span class="lineno">  607</span>    <span class="comment">// use PinChangeInterrupt no INT0 for pin PB2</span></div>
<div class="line"><span class="lineno">  608</span>    PCMSK = _BV(IR_RECEIVE_PIN);</div>
<div class="line"><span class="lineno">  609</span>    <span class="comment">// clear interrupt bit</span></div>
<div class="line"><span class="lineno">  610</span>    GIFR |= 1 &lt;&lt; PCIF;</div>
<div class="line"><span class="lineno">  611</span>    <span class="comment">// enable interrupt on next change</span></div>
<div class="line"><span class="lineno">  612</span>    GIMSK |= 1 &lt;&lt; PCIE;</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span><span class="preprocessor">#  elif defined(USE_PCINT0)</span></div>
<div class="line"><span class="lineno">  615</span>    PCICR |= _BV(PCIE0);</div>
<div class="line"><span class="lineno">  616</span>    PCMSK0 = digitalPinToBitMask(IR_RECEIVE_PIN);</div>
<div class="line"><span class="lineno">  617</span><span class="preprocessor">#  elif defined(USE_PCINT1)</span></div>
<div class="line"><span class="lineno">  618</span>    PCICR |= _BV(PCIE1);</div>
<div class="line"><span class="lineno">  619</span>    PCMSK1 = digitalPinToBitMask(IR_RECEIVE_PIN);</div>
<div class="line"><span class="lineno">  620</span><span class="preprocessor">#  elif defined(USE_PCINT2)</span></div>
<div class="line"><span class="lineno">  621</span>    PCICR |= _BV(PCIE2);</div>
<div class="line"><span class="lineno">  622</span>    PCMSK2 = digitalPinToBitMask(IR_RECEIVE_PIN);</div>
<div class="line"><span class="lineno">  623</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  625</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  626</span><span class="preprocessor">#endif </span><span class="comment">// defined(USE_ATTACH_INTERRUPT)</span></div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  628</span>}</div>
<div class="ttc" id="agroup__TinyReceiver_html_ga3c3d6703d25dbcc0555823e23eec0e69"><div class="ttname"><a href="#ga3c3d6703d25dbcc0555823e23eec0e69">IRPinChangeInterruptHandler</a></div><div class="ttdeci">void IRPinChangeInterruptHandler(void)</div><div class="ttdef"><b>Definition</b> TinyIRReceiver.hpp:165</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa968353e3a3d31ca950fe4dd5be38b71" name="gaa968353e3a3d31ca950fe4dd5be38b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa968353e3a3d31ca950fe4dd5be38b71">&#9670;&#160;</a></span>handleTinyReceivedIRData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void handleTinyReceivedIRData </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Declaration of the callback function provided by the user application. It is called every time a complete IR command or repeat was received. </p>

</div>
</div>
<a id="gaafb51bc656ba199129d261afa3f950c2" name="gaafb51bc656ba199129d261afa3f950c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaafb51bc656ba199129d261afa3f950c2">&#9670;&#160;</a></span>initPCIInterruptForTinyReceiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool initPCIInterruptForTinyReceiver </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets IR_RECEIVE_PIN mode to INPUT, and if IR_FEEDBACK_LED_PIN is defined, sets feedback LED output mode. Then call <a class="el" href="#gacc1eec5de7563e88aa73d16aa9e60a10">enablePCIInterruptForTinyReceiver()</a> </p>
<div class="fragment"><div class="line"><span class="lineno">  454</span>                                       {</div>
<div class="line"><span class="lineno">  455</span>    pinModeFast(IR_RECEIVE_PIN, INPUT);</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span><span class="preprocessor">#if !defined(NO_LED_FEEDBACK_CODE) &amp;&amp; defined(IR_FEEDBACK_LED_PIN)</span></div>
<div class="line"><span class="lineno">  458</span>    pinModeFast(IR_FEEDBACK_LED_PIN, OUTPUT);</div>
<div class="line"><span class="lineno">  459</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#gacc1eec5de7563e88aa73d16aa9e60a10">enablePCIInterruptForTinyReceiver</a>();</div>
<div class="line"><span class="lineno">  461</span>}</div>
<div class="ttc" id="agroup__TinyReceiver_html_gacc1eec5de7563e88aa73d16aa9e60a10"><div class="ttname"><a href="#gacc1eec5de7563e88aa73d16aa9e60a10">enablePCIInterruptForTinyReceiver</a></div><div class="ttdeci">bool enablePCIInterruptForTinyReceiver()</div><div class="ttdef"><b>Definition</b> TinyIRReceiver.hpp:564</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga3c3d6703d25dbcc0555823e23eec0e69" name="ga3c3d6703d25dbcc0555823e23eec0e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c3d6703d25dbcc0555823e23eec0e69">&#9670;&#160;</a></span>IRPinChangeInterruptHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRPinChangeInterruptHandler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The ISR (Interrupt Service Routine) of TinyIRRreceiver. It handles the NEC protocol decoding and calls the user callback function on complete. 5 us + 3 us for push + pop for a 16MHz ATmega </p>
<div class="fragment"><div class="line"><span class="lineno">  165</span>                                       {</div>
<div class="line"><span class="lineno">  166</span><span class="preprocessor">#if defined(_IR_MEASURE_TIMING) &amp;&amp; defined(_IR_TIMING_TEST_PIN)</span></div>
<div class="line"><span class="lineno">  167</span>    digitalWriteFast(_IR_TIMING_TEST_PIN, HIGH); <span class="comment">// 2 clock cycles</span></div>
<div class="line"><span class="lineno">  168</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  170</span><span class="comment">     * Save IR input level</span></div>
<div class="line"><span class="lineno">  171</span><span class="comment">     * Negative logic, true / HIGH means inactive / IR space, LOW / false means IR mark.</span></div>
<div class="line"><span class="lineno">  172</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  173</span>    uint_fast8_t tIRLevel = digitalReadFast(IR_RECEIVE_PIN);</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span><span class="preprocessor">#if !defined(NO_LED_FEEDBACK_CODE) &amp;&amp; defined(IR_FEEDBACK_LED_PIN)</span></div>
<div class="line"><span class="lineno">  176</span>    digitalWriteFast(IR_FEEDBACK_LED_PIN, !tIRLevel);</div>
<div class="line"><span class="lineno">  177</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  180</span><span class="comment">     * 1. compute microseconds after last change</span></div>
<div class="line"><span class="lineno">  181</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// Repeats can be sent after a pause, which is longer than 64000 microseconds, so we need a 32 bit value for check of repeats</span></div>
<div class="line"><span class="lineno">  183</span>    uint32_t tCurrentMicros = micros();</div>
<div class="line"><span class="lineno">  184</span>    uint32_t tMicrosOfMarkOrSpace32 = tCurrentMicros - TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#ad7b6f95e5a153384b352d09bb84a2444">LastChangeMicros</a>;</div>
<div class="line"><span class="lineno">  185</span>    uint16_t tMicrosOfMarkOrSpace = tMicrosOfMarkOrSpace32;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#ad7b6f95e5a153384b352d09bb84a2444">LastChangeMicros</a> = tCurrentMicros;</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    uint8_t tState = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a04a9f384aca34cc05024a4a2bfe0c646">IRReceiverState</a>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span><span class="preprocessor">#if defined(LOCAL_TRACE_STATE_MACHINE)</span></div>
<div class="line"><span class="lineno">  192</span>    Serial.print(tState);</div>
<div class="line"><span class="lineno">  193</span>    Serial.print(F(<span class="stringliteral">&quot; D=&quot;</span>));</div>
<div class="line"><span class="lineno">  194</span>    Serial.print(tMicrosOfMarkOrSpace);</div>
<div class="line"><span class="lineno">  195</span><span class="comment">//    Serial.print(F(&quot; I=&quot;));</span></div>
<div class="line"><span class="lineno">  196</span><span class="comment">//    Serial.print(tIRLevel);</span></div>
<div class="line"><span class="lineno">  197</span>    Serial.print(<span class="charliteral">&#39;|&#39;</span>);</div>
<div class="line"><span class="lineno">  198</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span> (tIRLevel == LOW) {</div>
<div class="line"><span class="lineno">  201</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  202</span><span class="comment">         * We have a mark here</span></div>
<div class="line"><span class="lineno">  203</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt; 2 * TINY_RECEIVER_HEADER_MARK) {</div>
<div class="line"><span class="lineno">  205</span>            <span class="comment">// timeout -&gt; must reset state machine</span></div>
<div class="line"><span class="lineno">  206</span>            tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  207</span>        }</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">if</span> (tState == IR_RECEIVER_STATE_WAITING_FOR_START_MARK) {</div>
<div class="line"><span class="lineno">  209</span>            <span class="comment">// We are at the beginning of the header mark, check timing at the next transition</span></div>
<div class="line"><span class="lineno">  210</span>            tState = IR_RECEIVER_STATE_WAITING_FOR_START_SPACE;</div>
<div class="line"><span class="lineno">  211</span>            TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> = IRDATA_FLAGS_EMPTY; <span class="comment">// If we do it here, it saves 4 bytes</span></div>
<div class="line"><span class="lineno">  212</span><span class="preprocessor">#if defined(LOCAL_TRACE)</span></div>
<div class="line"><span class="lineno">  213</span>            sMicrosOfGap = tMicrosOfMarkOrSpace32;</div>
<div class="line"><span class="lineno">  214</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  215</span><span class="preprocessor">#if defined(ENABLE_NEC2_REPEATS)</span></div>
<div class="line"><span class="lineno">  216</span>            <span class="comment">// Check for repeat, where full frame is sent again after TINY_RECEIVER_REPEAT_PERIOD ms</span></div>
<div class="line"><span class="lineno">  217</span>            <span class="comment">// Not required for NEC, where repeats are detected by a special header space duration</span></div>
<div class="line"><span class="lineno">  218</span>            <span class="comment">// Must use 32 bit arithmetic here!</span></div>
<div class="line"><span class="lineno">  219</span>            <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace32 &lt; TINY_RECEIVER_MAXIMUM_REPEAT_DISTANCE) {</div>
<div class="line"><span class="lineno">  220</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> = <a class="code hl_define" href="IRProtocol_8h.html#aaa9952cd64b58083c28873484c494abf">IRDATA_FLAGS_IS_REPEAT</a>;</div>
<div class="line"><span class="lineno">  221</span>            }</div>
<div class="line"><span class="lineno">  222</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  223</span>        }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tState == IR_RECEIVER_STATE_WAITING_FOR_FIRST_DATA_MARK) {</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt;= lowerValue25Percent(TINY_RECEIVER_HEADER_SPACE)</div>
<div class="line"><span class="lineno">  227</span>                    &amp;&amp; tMicrosOfMarkOrSpace &lt;= upperValue25Percent(TINY_RECEIVER_HEADER_SPACE)) {</div>
<div class="line"><span class="lineno">  228</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  229</span><span class="comment">                 * We have a valid data header space here -&gt; initialize data</span></div>
<div class="line"><span class="lineno">  230</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  231</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a880e6b24e5109e97c390fd936dc252ee">IRRawDataBitCounter</a> = 0;</div>
<div class="line"><span class="lineno">  232</span><span class="preprocessor">#if (TINY_RECEIVER_BITS &gt; 16)</span></div>
<div class="line"><span class="lineno">  233</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.ULong = 0;</div>
<div class="line"><span class="lineno">  234</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  235</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UWord = 0;</div>
<div class="line"><span class="lineno">  236</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  237</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a5eafe8535ef995c504408dca09446f45">IRRawDataMask</a> = 1;</div>
<div class="line"><span class="lineno">  238</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_DATA_SPACE;</div>
<div class="line"><span class="lineno">  239</span><span class="preprocessor">#if !defined(ENABLE_NEC2_REPEATS)</span></div>
<div class="line"><span class="lineno">  240</span>                <span class="comment">// Check for NEC repeat header</span></div>
<div class="line"><span class="lineno">  241</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt;= lowerValue25Percent(NEC_REPEAT_HEADER_SPACE)</div>
<div class="line"><span class="lineno">  242</span>                    &amp;&amp; tMicrosOfMarkOrSpace &lt;= upperValue25Percent(NEC_REPEAT_HEADER_SPACE)</div>
<div class="line"><span class="lineno">  243</span>                    &amp;&amp; TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a880e6b24e5109e97c390fd936dc252ee">IRRawDataBitCounter</a> &gt;= TINY_RECEIVER_BITS) {</div>
<div class="line"><span class="lineno">  244</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  245</span><span class="comment">                 * We have a repeat header here and no broken receive before -&gt; set repeat flag</span></div>
<div class="line"><span class="lineno">  246</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  247</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> = <a class="code hl_define" href="IRProtocol_8h.html#aaa9952cd64b58083c28873484c494abf">IRDATA_FLAGS_IS_REPEAT</a>;</div>
<div class="line"><span class="lineno">  248</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_DATA_SPACE;</div>
<div class="line"><span class="lineno">  249</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  250</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  251</span>                <span class="comment">// This parts are optimized by the compiler into jumps to one code :-)</span></div>
<div class="line"><span class="lineno">  252</span>                <span class="comment">// Wrong length -&gt; reset state</span></div>
<div class="line"><span class="lineno">  253</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  254</span>            }</div>
<div class="line"><span class="lineno">  255</span>        }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tState == IR_RECEIVER_STATE_WAITING_FOR_DATA_MARK) {</div>
<div class="line"><span class="lineno">  258</span>            <span class="comment">// Check data space length</span></div>
<div class="line"><span class="lineno">  259</span>            <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt;= lowerValue50Percent(TINY_RECEIVER_ZERO_SPACE)</div>
<div class="line"><span class="lineno">  260</span>                    &amp;&amp; tMicrosOfMarkOrSpace &lt;= upperValue50Percent(TINY_RECEIVER_ONE_SPACE)) {</div>
<div class="line"><span class="lineno">  261</span>                <span class="comment">// We have a valid bit here</span></div>
<div class="line"><span class="lineno">  262</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_DATA_SPACE;</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt;= 2 * TINY_RECEIVER_UNIT) {</div>
<div class="line"><span class="lineno">  264</span>                    <span class="comment">// we received a 1</span></div>
<div class="line"><span class="lineno">  265</span><span class="preprocessor">#if (TINY_RECEIVER_BITS &gt; 16)</span></div>
<div class="line"><span class="lineno">  266</span>                    TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.ULong |= TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a5eafe8535ef995c504408dca09446f45">IRRawDataMask</a>;</div>
<div class="line"><span class="lineno">  267</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  268</span>                    TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UWord |= TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a5eafe8535ef995c504408dca09446f45">IRRawDataMask</a>;</div>
<div class="line"><span class="lineno">  269</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  270</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  271</span>                    <span class="comment">// we received a 0 - empty code for documentation</span></div>
<div class="line"><span class="lineno">  272</span>                }</div>
<div class="line"><span class="lineno">  273</span>                <span class="comment">// prepare for next bit</span></div>
<div class="line"><span class="lineno">  274</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a5eafe8535ef995c504408dca09446f45">IRRawDataMask</a> = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a5eafe8535ef995c504408dca09446f45">IRRawDataMask</a> &lt;&lt; 1;</div>
<div class="line"><span class="lineno">  275</span>                TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a880e6b24e5109e97c390fd936dc252ee">IRRawDataBitCounter</a>++;</div>
<div class="line"><span class="lineno">  276</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  277</span>                <span class="comment">// Wrong length -&gt; reset state</span></div>
<div class="line"><span class="lineno">  278</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  279</span>            }</div>
<div class="line"><span class="lineno">  280</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  281</span>            <span class="comment">// error wrong state for the received level, e.g. if we missed one change interrupt -&gt; reset state</span></div>
<div class="line"><span class="lineno">  282</span>            tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  283</span>        }</div>
<div class="line"><span class="lineno">  284</span>    }</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  287</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  288</span><span class="comment">         * We have a space here</span></div>
<div class="line"><span class="lineno">  289</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">if</span> (tState == IR_RECEIVER_STATE_WAITING_FOR_START_SPACE) {</div>
<div class="line"><span class="lineno">  291</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  292</span><span class="comment">             * Check length of header mark here</span></div>
<div class="line"><span class="lineno">  293</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt;= lowerValue25Percent(TINY_RECEIVER_HEADER_MARK)</div>
<div class="line"><span class="lineno">  295</span>                    &amp;&amp; tMicrosOfMarkOrSpace &lt;= upperValue25Percent(TINY_RECEIVER_HEADER_MARK)) {</div>
<div class="line"><span class="lineno">  296</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_FIRST_DATA_MARK;</div>
<div class="line"><span class="lineno">  297</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  298</span>                <span class="comment">// Wrong length of header mark -&gt; reset state</span></div>
<div class="line"><span class="lineno">  299</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  300</span>            }</div>
<div class="line"><span class="lineno">  301</span>        }</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tState == IR_RECEIVER_STATE_WAITING_FOR_DATA_SPACE) {</div>
<div class="line"><span class="lineno">  304</span>            <span class="comment">// Check data mark length</span></div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">if</span> (tMicrosOfMarkOrSpace &gt;= lowerValue50Percent(TINY_RECEIVER_BIT_MARK)</div>
<div class="line"><span class="lineno">  306</span>                    &amp;&amp; tMicrosOfMarkOrSpace &lt;= upperValue50Percent(TINY_RECEIVER_BIT_MARK)) {</div>
<div class="line"><span class="lineno">  307</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  308</span><span class="comment">                 * We have a valid mark here, check for transmission complete, i.e. the mark of the stop bit</span></div>
<div class="line"><span class="lineno">  309</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">if</span> (TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a880e6b24e5109e97c390fd936dc252ee">IRRawDataBitCounter</a> &gt;= TINY_RECEIVER_BITS</div>
<div class="line"><span class="lineno">  311</span>#<span class="keywordflow">if</span> !defined(ENABLE_NEC2_REPEATS)</div>
<div class="line"><span class="lineno">  312</span>                        || (TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> &amp; <a class="code hl_define" href="IRProtocol_8h.html#aaa9952cd64b58083c28873484c494abf">IRDATA_FLAGS_IS_REPEAT</a>) <span class="comment">// Do not check for full length received, if we have a short repeat frame</span></div>
<div class="line"><span class="lineno">  313</span>#endif</div>
<div class="line"><span class="lineno">  314</span>                        ) {</div>
<div class="line"><span class="lineno">  315</span>                    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  316</span><span class="comment">                     * Code complete -&gt; optionally check parity</span></div>
<div class="line"><span class="lineno">  317</span><span class="comment">                     */</span></div>
<div class="line"><span class="lineno">  318</span>                    <span class="comment">// Reset state for new start</span></div>
<div class="line"><span class="lineno">  319</span>                    tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span><span class="preprocessor">#if !defined(DISABLE_PARITY_CHECKS) &amp;&amp; (TINY_RECEIVER_ADDRESS_BITS == 16) &amp;&amp; TINY_RECEIVER_ADDRESS_HAS_8_BIT_PARITY</span></div>
<div class="line"><span class="lineno">  322</span>                    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  323</span><span class="comment">                     * Check address parity</span></div>
<div class="line"><span class="lineno">  324</span><span class="comment">                     * Address is sent first and contained in the lower word</span></div>
<div class="line"><span class="lineno">  325</span><span class="comment">                     */</span></div>
<div class="line"><span class="lineno">  326</span>                    <span class="keywordflow">if</span> (TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[0] != (uint8_t) (~TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[1])) {</div>
<div class="line"><span class="lineno">  327</span><span class="preprocessor">#if defined(ENABLE_NEC2_REPEATS)</span></div>
<div class="line"><span class="lineno">  328</span>                    TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> |= <a class="code hl_define" href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a>; <span class="comment">// here we can have the repeat flag already set</span></div>
<div class="line"><span class="lineno">  329</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  330</span>                        TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> = <a class="code hl_define" href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a>; <span class="comment">// here we do not check anything, if we have a repeat</span></div>
<div class="line"><span class="lineno">  331</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  332</span>                    }</div>
<div class="line"><span class="lineno">  333</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  334</span><span class="preprocessor">#if !defined(DISABLE_PARITY_CHECKS) &amp;&amp; (TINY_RECEIVER_COMMAND_BITS == 16) &amp;&amp; TINY_RECEIVER_COMMAND_HAS_8_BIT_PARITY</span></div>
<div class="line"><span class="lineno">  335</span>                    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  336</span><span class="comment">                     * Check command parity</span></div>
<div class="line"><span class="lineno">  337</span><span class="comment">                     */</span></div>
<div class="line"><span class="lineno">  338</span><span class="preprocessor">#if (TINY_RECEIVER_ADDRESS_BITS &gt; 0)</span></div>
<div class="line"><span class="lineno">  339</span>                    <span class="keywordflow">if</span> (TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[2] != (uint8_t) (~TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[3])) {</div>
<div class="line"><span class="lineno">  340</span><span class="preprocessor">#if defined(ENABLE_NEC2_REPEATS)</span></div>
<div class="line"><span class="lineno">  341</span>                    TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> |= <a class="code hl_define" href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a>;</div>
<div class="line"><span class="lineno">  342</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  343</span>                        TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> = <a class="code hl_define" href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a>;</div>
<div class="line"><span class="lineno">  344</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  345</span><span class="preprocessor">#  if defined(LOCAL_DEBUG)</span></div>
<div class="line"><span class="lineno">  346</span>                    Serial.print(F(<span class="stringliteral">&quot;Parity check for command failed. Command=&quot;</span>));</div>
<div class="line"><span class="lineno">  347</span>                    Serial.print(TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[2], HEX);</div>
<div class="line"><span class="lineno">  348</span>                    Serial.print(F(<span class="stringliteral">&quot; parity=&quot;</span>));</div>
<div class="line"><span class="lineno">  349</span>                    Serial.println(TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[3], HEX);</div>
<div class="line"><span class="lineno">  350</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  351</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  352</span>                    <span class="comment">// No address, so command and parity are in the lowest bytes</span></div>
<div class="line"><span class="lineno">  353</span>                    <span class="keywordflow">if</span> (TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[0] != (uint8_t) (~TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[1])) {</div>
<div class="line"><span class="lineno">  354</span>                        TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a> |= <a class="code hl_define" href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a>;</div>
<div class="line"><span class="lineno">  355</span><span class="preprocessor">#  if defined(LOCAL_DEBUG)</span></div>
<div class="line"><span class="lineno">  356</span>                        Serial.print(F(<span class="stringliteral">&quot;Parity check for command failed. Command=&quot;</span>));</div>
<div class="line"><span class="lineno">  357</span>                        Serial.print(TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[0], HEX);</div>
<div class="line"><span class="lineno">  358</span>                        Serial.print(F(<span class="stringliteral">&quot; parity=&quot;</span>));</div>
<div class="line"><span class="lineno">  359</span>                        Serial.println(TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[1], HEX);</div>
<div class="line"><span class="lineno">  360</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  361</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  362</span>                    }</div>
<div class="line"><span class="lineno">  363</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  364</span>                    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  365</span><span class="comment">                     * Call user provided callback here</span></div>
<div class="line"><span class="lineno">  366</span><span class="comment">                     * The parameter size is dependent of the code variant used in order to save program memory.</span></div>
<div class="line"><span class="lineno">  367</span><span class="comment">                     * We have 6 cases: 0, 8 bit or 16 bit address, each with 8 or 16 bit command</span></div>
<div class="line"><span class="lineno">  368</span><span class="comment">                     */</span></div>
<div class="line"><span class="lineno">  369</span><span class="preprocessor">#if !defined(ARDUINO_ARCH_MBED) &amp;&amp; !defined(ESP32) </span><span class="comment">// no Serial etc. in callback for ESP -&gt; no interrupt required, WDT is running!</span></div>
<div class="line"><span class="lineno">  370</span>                    interrupts(); <span class="comment">// enable interrupts, so delay() etc. works in callback</span></div>
<div class="line"><span class="lineno">  371</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  372</span>                    TinyIRReceiverData.<a class="code hl_variable" href="structTinyIRReceiverCallbackDataStruct.html#aff079c5dbb9e3bb1aa10907f8f89bebe">justWritten</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  373</span>                    TinyIRReceiverData.Flags = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">Flags</a>;</div>
<div class="line"><span class="lineno">  374</span><span class="preprocessor">#if (TINY_RECEIVER_ADDRESS_BITS &gt; 0)</span></div>
<div class="line"><span class="lineno">  375</span><span class="preprocessor">#  if TINY_RECEIVER_ADDRESS_HAS_8_BIT_PARITY</span></div>
<div class="line"><span class="lineno">  376</span>                    <span class="comment">// Here we have 8 bit address</span></div>
<div class="line"><span class="lineno">  377</span>                    TinyIRReceiverData.Address = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[0];</div>
<div class="line"><span class="lineno">  378</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  379</span>                    <span class="comment">// Here we have 16 bit address</span></div>
<div class="line"><span class="lineno">  380</span>                    TinyIRReceiverData.Address = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UWord.LowWord;</div>
<div class="line"><span class="lineno">  381</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  382</span><span class="preprocessor">#  if TINY_RECEIVER_COMMAND_HAS_8_BIT_PARITY</span></div>
<div class="line"><span class="lineno">  383</span>                    <span class="comment">// Here we have 8 bit command</span></div>
<div class="line"><span class="lineno">  384</span>                    TinyIRReceiverData.Command = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[2];</div>
<div class="line"><span class="lineno">  385</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  386</span>                    <span class="comment">// Here we have 16 bit command</span></div>
<div class="line"><span class="lineno">  387</span>                    TinyIRReceiverData.Command = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UWord.HighWord;</div>
<div class="line"><span class="lineno">  388</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  391</span>                    <span class="comment">// Here we have NO address</span></div>
<div class="line"><span class="lineno">  392</span><span class="preprocessor">#  if TINY_RECEIVER_COMMAND_HAS_8_BIT_PARITY</span></div>
<div class="line"><span class="lineno">  393</span>                    <span class="comment">// Here we have 8 bit command</span></div>
<div class="line"><span class="lineno">  394</span>                    TinyIRReceiverData.Command = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UBytes[0];</div>
<div class="line"><span class="lineno">  395</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno">  396</span>                    <span class="comment">// Here we have 16 bit command</span></div>
<div class="line"><span class="lineno">  397</span>                    TinyIRReceiverData.Command = TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">IRRawData</a>.UWord;</div>
<div class="line"><span class="lineno">  398</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno">  399</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  400</span><span class="preprocessor">#if defined(USE_CALLBACK_FOR_TINY_RECEIVER)</span></div>
<div class="line"><span class="lineno">  401</span>                    handleReceivedTinyIRData();</div>
<div class="line"><span class="lineno">  402</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  405</span>                    <span class="comment">// not finished yet</span></div>
<div class="line"><span class="lineno">  406</span>                    tState = IR_RECEIVER_STATE_WAITING_FOR_DATA_MARK;</div>
<div class="line"><span class="lineno">  407</span>                }</div>
<div class="line"><span class="lineno">  408</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  409</span>                <span class="comment">// Wrong length -&gt; reset state</span></div>
<div class="line"><span class="lineno">  410</span>                tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  411</span>            }</div>
<div class="line"><span class="lineno">  412</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  413</span>            <span class="comment">// error wrong state for the received level, e.g. if we missed one change interrupt -&gt; reset state</span></div>
<div class="line"><span class="lineno">  414</span>            tState = IR_RECEIVER_STATE_WAITING_FOR_START_MARK;</div>
<div class="line"><span class="lineno">  415</span>        }</div>
<div class="line"><span class="lineno">  416</span>    }</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a04a9f384aca34cc05024a4a2bfe0c646">IRReceiverState</a> = tState;</div>
<div class="line"><span class="lineno">  419</span><span class="preprocessor">#ifdef _IR_MEASURE_TIMING</span></div>
<div class="line"><span class="lineno">  420</span>    digitalWriteFast(_IR_TIMING_TEST_PIN, LOW); <span class="comment">// 2 clock cycles</span></div>
<div class="line"><span class="lineno">  421</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  422</span>}</div>
<div class="ttc" id="aIRProtocol_8h_html_a1a60f95f0885b1865dc5514ddd80e093"><div class="ttname"><a href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a></div><div class="ttdeci">#define IRDATA_FLAGS_PARITY_FAILED</div><div class="ttdoc">The current (autorepeat) frame violated parity check.</div><div class="ttdef"><b>Definition</b> IRProtocol.h:95</div></div>
<div class="ttc" id="aIRProtocol_8h_html_aaa9952cd64b58083c28873484c494abf"><div class="ttname"><a href="IRProtocol_8h.html#aaa9952cd64b58083c28873484c494abf">IRDATA_FLAGS_IS_REPEAT</a></div><div class="ttdeci">#define IRDATA_FLAGS_IS_REPEAT</div><div class="ttdoc">The gap between the preceding frame is as smaller than the maximum gap expected for a repeat....</div><div class="ttdef"><b>Definition</b> IRProtocol.h:93</div></div>
<div class="ttc" id="astructTinyIRReceiverCallbackDataStruct_html_aff079c5dbb9e3bb1aa10907f8f89bebe"><div class="ttname"><a href="structTinyIRReceiverCallbackDataStruct.html#aff079c5dbb9e3bb1aa10907f8f89bebe">TinyIRReceiverCallbackDataStruct::justWritten</a></div><div class="ttdeci">bool justWritten</div><div class="ttdoc">Is set true if new data is available. Used by the main loop / TinyReceiverDecode(),...</div><div class="ttdef"><b>Definition</b> TinyIR.h:246</div></div>
<div class="ttc" id="astructTinyIRReceiverStruct_html_a04a9f384aca34cc05024a4a2bfe0c646"><div class="ttname"><a href="structTinyIRReceiverStruct.html#a04a9f384aca34cc05024a4a2bfe0c646">TinyIRReceiverStruct::IRReceiverState</a></div><div class="ttdeci">uint8_t IRReceiverState</div><div class="ttdoc">The state of the state machine.</div><div class="ttdef"><b>Definition</b> TinyIR.h:204</div></div>
<div class="ttc" id="astructTinyIRReceiverStruct_html_a5eafe8535ef995c504408dca09446f45"><div class="ttname"><a href="structTinyIRReceiverStruct.html#a5eafe8535ef995c504408dca09446f45">TinyIRReceiverStruct::IRRawDataMask</a></div><div class="ttdeci">uint32_t IRRawDataMask</div><div class="ttdoc">The corresponding bit mask for IRRawDataBitCounter.</div><div class="ttdef"><b>Definition</b> TinyIR.h:210</div></div>
<div class="ttc" id="astructTinyIRReceiverStruct_html_a880e6b24e5109e97c390fd936dc252ee"><div class="ttname"><a href="structTinyIRReceiverStruct.html#a880e6b24e5109e97c390fd936dc252ee">TinyIRReceiverStruct::IRRawDataBitCounter</a></div><div class="ttdeci">uint8_t IRRawDataBitCounter</div><div class="ttdoc">How many bits are currently contained in raw data.</div><div class="ttdef"><b>Definition</b> TinyIR.h:205</div></div>
<div class="ttc" id="astructTinyIRReceiverStruct_html_a8bae85970767a7c24b11848610a20e2c"><div class="ttname"><a href="structTinyIRReceiverStruct.html#a8bae85970767a7c24b11848610a20e2c">TinyIRReceiverStruct::IRRawData</a></div><div class="ttdeci">LongUnion IRRawData</div><div class="ttdoc">The current raw data. LongUnion helps with decoding of address and command.</div><div class="ttdef"><b>Definition</b> TinyIR.h:211</div></div>
<div class="ttc" id="astructTinyIRReceiverStruct_html_ad7b6f95e5a153384b352d09bb84a2444"><div class="ttname"><a href="structTinyIRReceiverStruct.html#ad7b6f95e5a153384b352d09bb84a2444">TinyIRReceiverStruct::LastChangeMicros</a></div><div class="ttdeci">uint32_t LastChangeMicros</div><div class="ttdoc">Microseconds of last Pin Change Interrupt.</div><div class="ttdef"><b>Definition</b> TinyIR.h:203</div></div>
<div class="ttc" id="astructTinyIRReceiverStruct_html_aeb3f0fed7dd127f81565f62281a7ae41"><div class="ttname"><a href="structTinyIRReceiverStruct.html#aeb3f0fed7dd127f81565f62281a7ae41">TinyIRReceiverStruct::Flags</a></div><div class="ttdeci">uint8_t Flags</div><div class="ttdoc">One of IRDATA_FLAGS_EMPTY, IRDATA_FLAGS_IS_REPEAT, and IRDATA_FLAGS_PARITY_FAILED.</div><div class="ttdef"><b>Definition</b> TinyIR.h:216</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2553571086097dd6e7ba319a6da2c743" name="ga2553571086097dd6e7ba319a6da2c743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2553571086097dd6e7ba319a6da2c743">&#9670;&#160;</a></span>isIRReceiverAttachedForTinyReceiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isIRReceiverAttachedForTinyReceiver </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  443</span>                                           {</div>
<div class="line"><span class="lineno">  444</span>    pinModeFast(IR_RECEIVE_PIN, OUTPUT);</div>
<div class="line"><span class="lineno">  445</span>    digitalWriteFast(IR_RECEIVE_PIN, LOW); <span class="comment">// discharge pin capacity</span></div>
<div class="line"><span class="lineno">  446</span>    pinModeFast(IR_RECEIVE_PIN, INPUT);</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">return</span> digitalRead(IR_RECEIVE_PIN); <span class="comment">// use slow digitalRead here, since the pin capacity is not fully charged again if we use digitalReadFast.</span></div>
<div class="line"><span class="lineno">  448</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab65e33fe496d3bee4af897e5d8bd9420" name="gab65e33fe496d3bee4af897e5d8bd9420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab65e33fe496d3bee4af897e5d8bd9420">&#9670;&#160;</a></span>isTinyReceiverIdle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isTinyReceiverIdle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  424</span>                          {</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">return</span> (TinyIRReceiverControl.<a class="code hl_variable" href="structTinyIRReceiverStruct.html#a04a9f384aca34cc05024a4a2bfe0c646">IRReceiverState</a> == IR_RECEIVER_STATE_WAITING_FOR_START_MARK);</div>
<div class="line"><span class="lineno">  426</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga27649645d9280dfaee8095ce2dcf8f07" name="ga27649645d9280dfaee8095ce2dcf8f07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27649645d9280dfaee8095ce2dcf8f07">&#9670;&#160;</a></span>printTinyReceiverResultMinimal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printTinyReceiverResultMinimal </td>
          <td>(</td>
          <td class="paramtype">Print *</td>          <td class="paramname"><span class="paramname"><em>aSerial</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  463</span>                                                    {</div>
<div class="line"><span class="lineno">  464</span><span class="comment">// Print only very short output, since we are in an interrupt context and do not want to miss the next interrupts of the repeats coming soon</span></div>
<div class="line"><span class="lineno">  465</span>    <span class="comment">// Print only very short output, since we are in an interrupt context and do not want to miss the next interrupts of the repeats coming soon</span></div>
<div class="line"><span class="lineno">  466</span><span class="preprocessor">#if defined(USE_FAST_PROTOCOL)</span></div>
<div class="line"><span class="lineno">  467</span>    aSerial-&gt;print(F(<span class="stringliteral">&quot;C=0x&quot;</span>));</div>
<div class="line"><span class="lineno">  468</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  469</span>    aSerial-&gt;print(F(<span class="stringliteral">&quot;A=0x&quot;</span>));</div>
<div class="line"><span class="lineno">  470</span>    aSerial-&gt;print(TinyIRReceiverData.Address, HEX);</div>
<div class="line"><span class="lineno">  471</span>    aSerial-&gt;print(F(<span class="stringliteral">&quot; C=0x&quot;</span>));</div>
<div class="line"><span class="lineno">  472</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  473</span>    aSerial-&gt;print(TinyIRReceiverData.Command, HEX);</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">if</span> (TinyIRReceiverData.Flags == <a class="code hl_define" href="IRProtocol_8h.html#aaa9952cd64b58083c28873484c494abf">IRDATA_FLAGS_IS_REPEAT</a>) {</div>
<div class="line"><span class="lineno">  475</span>        aSerial-&gt;print(F(<span class="stringliteral">&quot; R&quot;</span>));</div>
<div class="line"><span class="lineno">  476</span>    }</div>
<div class="line"><span class="lineno">  477</span><span class="preprocessor">#if !defined(DISABLE_PARITY_CHECKS)</span></div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">if</span> (TinyIRReceiverData.Flags == <a class="code hl_define" href="IRProtocol_8h.html#a1a60f95f0885b1865dc5514ddd80e093">IRDATA_FLAGS_PARITY_FAILED</a>) {</div>
<div class="line"><span class="lineno">  479</span>        aSerial-&gt;print(F(<span class="stringliteral">&quot; P&quot;</span>));</div>
<div class="line"><span class="lineno">  480</span>    }</div>
<div class="line"><span class="lineno">  481</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  482</span>    aSerial-&gt;println();</div>
<div class="line"><span class="lineno">  483</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2f9e7eb2572eabb1fb55a5e112a7afdb" name="ga2f9e7eb2572eabb1fb55a5e112a7afdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f9e7eb2572eabb1fb55a5e112a7afdb">&#9670;&#160;</a></span>sendExtendedNEC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendExtendedNEC </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aSendPin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aAddress</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aCommand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t</td>          <td class="paramname"><span class="paramname"><em>aNumberOfRepeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>aSendNEC2Repeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  234</span>                                                                                                                                   {</div>
<div class="line"><span class="lineno">  235</span>    pinModeFast(aSendPin, OUTPUT);</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    uint_fast8_t tNumberOfCommands = aNumberOfRepeats + 1;</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">while</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tStartOfFrameMillis = millis();</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        sendMark(aSendPin, NEC_HEADER_MARK);</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> ((!aSendNEC2Repeats) &amp;&amp; (tNumberOfCommands &lt; aNumberOfRepeats + 1)) {</div>
<div class="line"><span class="lineno">  243</span>            <span class="comment">// send the NEC special repeat</span></div>
<div class="line"><span class="lineno">  244</span>            delayMicroseconds(NEC_REPEAT_HEADER_SPACE); <span class="comment">// - 2250</span></div>
<div class="line"><span class="lineno">  245</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  246</span>            <span class="comment">// send header</span></div>
<div class="line"><span class="lineno">  247</span>            delayMicroseconds(NEC_HEADER_SPACE);</div>
<div class="line"><span class="lineno">  248</span>            <a class="code hl_union" href="unionLongUnion.html">LongUnion</a> tData;</div>
<div class="line"><span class="lineno">  249</span>            tData.UWord.LowWord = aAddress;</div>
<div class="line"><span class="lineno">  250</span>            <span class="keywordflow">if</span> (aCommand &gt; 0xFF) {</div>
<div class="line"><span class="lineno">  251</span>                tData.UWord.HighWord = aCommand;</div>
<div class="line"><span class="lineno">  252</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  253</span>                tData.UByte.MidHighByte = aCommand;</div>
<div class="line"><span class="lineno">  254</span>                tData.UByte.HighByte = ~aCommand; <span class="comment">// LSB first</span></div>
<div class="line"><span class="lineno">  255</span>            }</div>
<div class="line"><span class="lineno">  256</span>            <span class="comment">// Send data</span></div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">for</span> (uint_fast8_t i = 0; i &lt; NEC_BITS; ++i) {</div>
<div class="line"><span class="lineno">  258</span>                sendMark(aSendPin, NEC_BIT_MARK); <span class="comment">// constant mark length</span></div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>                <span class="keywordflow">if</span> (tData.ULong &amp; 1) {</div>
<div class="line"><span class="lineno">  261</span>                    delayMicroseconds(NEC_ONE_SPACE);</div>
<div class="line"><span class="lineno">  262</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  263</span>                    delayMicroseconds(NEC_ZERO_SPACE);</div>
<div class="line"><span class="lineno">  264</span>                }</div>
<div class="line"><span class="lineno">  265</span>                tData.ULong &gt;&gt;= 1; <span class="comment">// shift command for next bit</span></div>
<div class="line"><span class="lineno">  266</span>            }</div>
<div class="line"><span class="lineno">  267</span>        }        <span class="comment">// send stop bit</span></div>
<div class="line"><span class="lineno">  268</span>        sendMark(aSendPin, NEC_BIT_MARK);</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>        tNumberOfCommands--;</div>
<div class="line"><span class="lineno">  271</span>        <span class="comment">// skip last delay!</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">if</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  273</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  274</span><span class="comment">             * Check and fallback for wrong RepeatPeriodMillis parameter. I.e the repeat period must be greater than each frame duration.</span></div>
<div class="line"><span class="lineno">  275</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  276</span>            <span class="keyword">auto</span> tFrameDurationMillis = millis() - tStartOfFrameMillis;</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">if</span> (NEC_REPEAT_PERIOD / 1000 &gt; tFrameDurationMillis) {</div>
<div class="line"><span class="lineno">  278</span>                delay(NEC_REPEAT_PERIOD / 1000 - tFrameDurationMillis);</div>
<div class="line"><span class="lineno">  279</span>            }</div>
<div class="line"><span class="lineno">  280</span>        }</div>
<div class="line"><span class="lineno">  281</span>    }</div>
<div class="line"><span class="lineno">  282</span>}</div>
<div class="ttc" id="aunionLongUnion_html"><div class="ttname"><a href="unionLongUnion.html">LongUnion</a></div><div class="ttdef"><b>Definition</b> LongUnion.h:59</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5d40a2ebca50382f9ddc8210cd82ebcd" name="ga5d40a2ebca50382f9ddc8210cd82ebcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d40a2ebca50382f9ddc8210cd82ebcd">&#9670;&#160;</a></span>sendFAST()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendFAST </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aSendPin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aCommand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t</td>          <td class="paramname"><span class="paramname"><em>aNumberOfRepeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  294</span>                                                                                  {</div>
<div class="line"><span class="lineno">  295</span>    pinModeFast(aSendPin, OUTPUT);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    uint_fast8_t tNumberOfCommands = aNumberOfRepeats + 1;</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">while</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tStartOfFrameMillis = millis();</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>        <span class="comment">// send header</span></div>
<div class="line"><span class="lineno">  302</span>        sendMark(aSendPin, FAST_HEADER_MARK);</div>
<div class="line"><span class="lineno">  303</span>        delayMicroseconds(FAST_HEADER_SPACE);</div>
<div class="line"><span class="lineno">  304</span>        uint16_t tData;</div>
<div class="line"><span class="lineno">  305</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  306</span><span class="comment">         * The compiler is intelligent and removes the code for &quot;(aCommand &gt; 0xFF)&quot; if we are called with an uint8_t command :-).</span></div>
<div class="line"><span class="lineno">  307</span><span class="comment">         * Using an uint16_t command requires additional 56 bytes program memory.</span></div>
<div class="line"><span class="lineno">  308</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> (aCommand &gt; 0xFF) {</div>
<div class="line"><span class="lineno">  310</span>            tData = aCommand;</div>
<div class="line"><span class="lineno">  311</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  312</span>            tData = aCommand | (((uint8_t) (~aCommand)) &lt;&lt; 8); <span class="comment">// LSB first</span></div>
<div class="line"><span class="lineno">  313</span>        }</div>
<div class="line"><span class="lineno">  314</span>        <span class="comment">// Send data</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">for</span> (uint_fast8_t i = 0; i &lt; FAST_BITS; ++i) {</div>
<div class="line"><span class="lineno">  316</span>            sendMark(aSendPin, FAST_BIT_MARK); <span class="comment">// constant mark length</span></div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">if</span> (tData &amp; 1) {</div>
<div class="line"><span class="lineno">  319</span>                delayMicroseconds(FAST_ONE_SPACE);</div>
<div class="line"><span class="lineno">  320</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  321</span>                delayMicroseconds(FAST_ZERO_SPACE);</div>
<div class="line"><span class="lineno">  322</span>            }</div>
<div class="line"><span class="lineno">  323</span>            tData &gt;&gt;= 1; <span class="comment">// shift command for next bit</span></div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="line"><span class="lineno">  325</span>        <span class="comment">// send stop bit</span></div>
<div class="line"><span class="lineno">  326</span>        sendMark(aSendPin, FAST_BIT_MARK);</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        tNumberOfCommands--;</div>
<div class="line"><span class="lineno">  329</span>        <span class="comment">// skip last delay!</span></div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">if</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  331</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  332</span><span class="comment">             * Check and fallback for wrong RepeatPeriodMillis parameter. I.e the repeat period must be greater than each frame duration.</span></div>
<div class="line"><span class="lineno">  333</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  334</span>            <span class="keyword">auto</span> tFrameDurationMillis = millis() - tStartOfFrameMillis;</div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">if</span> (FAST_REPEAT_PERIOD / 1000 &gt; tFrameDurationMillis) {</div>
<div class="line"><span class="lineno">  336</span>                delay(FAST_REPEAT_PERIOD / 1000 - tFrameDurationMillis);</div>
<div class="line"><span class="lineno">  337</span>            }</div>
<div class="line"><span class="lineno">  338</span>        }</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="line"><span class="lineno">  340</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga21e45ae5abbd50dcf77693c87c01cc71" name="ga21e45ae5abbd50dcf77693c87c01cc71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21e45ae5abbd50dcf77693c87c01cc71">&#9670;&#160;</a></span>sendFast8BitAndParity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendFast8BitAndParity </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aSendPin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aCommand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t</td>          <td class="paramname"><span class="paramname"><em>aNumberOfRepeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  287</span>                                                                                              {</div>
<div class="line"><span class="lineno">  288</span>    sendFAST(aSendPin, aCommand, aNumberOfRepeats);</div>
<div class="line"><span class="lineno">  289</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad56f6ae51db2f76f6b48bd6eb621b55d" name="gad56f6ae51db2f76f6b48bd6eb621b55d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad56f6ae51db2f76f6b48bd6eb621b55d">&#9670;&#160;</a></span>sendNEC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendNEC </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aSendPin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aAddress</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aCommand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t</td>          <td class="paramname"><span class="paramname"><em>aNumberOfRepeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>aSendNEC2Repeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  168</span>                                                                                                                           {</div>
<div class="line"><span class="lineno">  169</span>    pinModeFast(aSendPin, OUTPUT);</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    uint_fast8_t tNumberOfCommands = aNumberOfRepeats + 1;</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">while</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tStartOfFrameMillis = millis();</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        sendMark(aSendPin, NEC_HEADER_MARK);</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> ((!aSendNEC2Repeats) &amp;&amp; (tNumberOfCommands &lt; aNumberOfRepeats + 1)) {</div>
<div class="line"><span class="lineno">  177</span>            <span class="comment">// send the NEC special repeat</span></div>
<div class="line"><span class="lineno">  178</span>            delayMicroseconds(NEC_REPEAT_HEADER_SPACE); <span class="comment">// - 2250</span></div>
<div class="line"><span class="lineno">  179</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  180</span>            <span class="comment">// send header</span></div>
<div class="line"><span class="lineno">  181</span>            delayMicroseconds(NEC_HEADER_SPACE);</div>
<div class="line"><span class="lineno">  182</span>            <a class="code hl_union" href="unionLongUnion.html">LongUnion</a> tData;</div>
<div class="line"><span class="lineno">  183</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  184</span><span class="comment">             * The compiler is intelligent and removes the code for &quot;(aAddress &gt; 0xFF)&quot; if we are called with an uint8_t address :-).</span></div>
<div class="line"><span class="lineno">  185</span><span class="comment">             * Using an uint16_t address requires additional 28 bytes program memory.</span></div>
<div class="line"><span class="lineno">  186</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">if</span> (aAddress &gt; 0xFF) {</div>
<div class="line"><span class="lineno">  188</span>                tData.UWord.LowWord = aAddress;</div>
<div class="line"><span class="lineno">  189</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  190</span>                tData.UByte.LowByte = aAddress; <span class="comment">// LSB first</span></div>
<div class="line"><span class="lineno">  191</span>                tData.UByte.MidLowByte = ~aAddress;</div>
<div class="line"><span class="lineno">  192</span>            }</div>
<div class="line"><span class="lineno">  193</span>            <span class="keywordflow">if</span> (aCommand &gt; 0xFF) {</div>
<div class="line"><span class="lineno">  194</span>                tData.UWord.HighWord = aCommand;</div>
<div class="line"><span class="lineno">  195</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  196</span>                tData.UByte.MidHighByte = aCommand;</div>
<div class="line"><span class="lineno">  197</span>                tData.UByte.HighByte = ~aCommand; <span class="comment">// LSB first</span></div>
<div class="line"><span class="lineno">  198</span>            }</div>
<div class="line"><span class="lineno">  199</span>            <span class="comment">// Send data</span></div>
<div class="line"><span class="lineno">  200</span>            <span class="keywordflow">for</span> (uint_fast8_t i = 0; i &lt; NEC_BITS; ++i) {</div>
<div class="line"><span class="lineno">  201</span>                sendMark(aSendPin, NEC_BIT_MARK); <span class="comment">// constant mark length</span></div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>                <span class="keywordflow">if</span> (tData.ULong &amp; 1) {</div>
<div class="line"><span class="lineno">  204</span>                    delayMicroseconds(NEC_ONE_SPACE);</div>
<div class="line"><span class="lineno">  205</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  206</span>                    delayMicroseconds(NEC_ZERO_SPACE);</div>
<div class="line"><span class="lineno">  207</span>                }</div>
<div class="line"><span class="lineno">  208</span>                tData.ULong &gt;&gt;= 1; <span class="comment">// shift command for next bit</span></div>
<div class="line"><span class="lineno">  209</span>            }</div>
<div class="line"><span class="lineno">  210</span>        }        <span class="comment">// send stop bit</span></div>
<div class="line"><span class="lineno">  211</span>        sendMark(aSendPin, NEC_BIT_MARK);</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>        tNumberOfCommands--;</div>
<div class="line"><span class="lineno">  214</span>        <span class="comment">// skip last delay!</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">if</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  216</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  217</span><span class="comment">             * Check and fallback for wrong RepeatPeriodMillis parameter. I.e the repeat period must be greater than each frame duration.</span></div>
<div class="line"><span class="lineno">  218</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  219</span>            <span class="keyword">auto</span> tFrameDurationMillis = millis() - tStartOfFrameMillis;</div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordflow">if</span> (NEC_REPEAT_PERIOD / 1000 &gt; tFrameDurationMillis) {</div>
<div class="line"><span class="lineno">  221</span>                delay(NEC_REPEAT_PERIOD / 1000 - tFrameDurationMillis);</div>
<div class="line"><span class="lineno">  222</span>            }</div>
<div class="line"><span class="lineno">  223</span>        }</div>
<div class="line"><span class="lineno">  224</span>    }</div>
<div class="line"><span class="lineno">  225</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad46384dcfa939b9ed9538b6c907acb1f" name="gad46384dcfa939b9ed9538b6c907acb1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad46384dcfa939b9ed9538b6c907acb1f">&#9670;&#160;</a></span>sendNECMinimal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendNECMinimal </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aSendPin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aAddress</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aCommand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t</td>          <td class="paramname"><span class="paramname"><em>aNumberOfRepeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  165</span>                                                                                                           {</div>
<div class="line"><span class="lineno">  166</span>    sendNEC(aSendPin, aAddress, aCommand, aNumberOfRepeats); <span class="comment">// sendNECMinimal() is deprecated</span></div>
<div class="line"><span class="lineno">  167</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga42ba5dff1100c121334ae46c000631e2" name="ga42ba5dff1100c121334ae46c000631e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42ba5dff1100c121334ae46c000631e2">&#9670;&#160;</a></span>sendONKYO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendONKYO </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>aSendPin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aAddress</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>aCommand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t</td>          <td class="paramname"><span class="paramname"><em>aNumberOfRepeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>aSendNEC2Repeats</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                                                                                                             {</div>
<div class="line"><span class="lineno">  115</span>    pinModeFast(aSendPin, OUTPUT);</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    uint_fast8_t tNumberOfCommands = aNumberOfRepeats + 1;</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">while</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tStartOfFrameMillis = millis();</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        sendMark(aSendPin, NEC_HEADER_MARK);</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">if</span> ((!aSendNEC2Repeats) &amp;&amp; (tNumberOfCommands &lt; aNumberOfRepeats + 1)) {</div>
<div class="line"><span class="lineno">  123</span>            <span class="comment">// send the NEC special repeat</span></div>
<div class="line"><span class="lineno">  124</span>            delayMicroseconds(NEC_REPEAT_HEADER_SPACE); <span class="comment">// - 2250</span></div>
<div class="line"><span class="lineno">  125</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  126</span>            <span class="comment">// send header</span></div>
<div class="line"><span class="lineno">  127</span>            delayMicroseconds(NEC_HEADER_SPACE);</div>
<div class="line"><span class="lineno">  128</span>            <a class="code hl_union" href="unionLongUnion.html">LongUnion</a> tData;</div>
<div class="line"><span class="lineno">  129</span>            tData.UWord.LowWord = aAddress;</div>
<div class="line"><span class="lineno">  130</span>            tData.UWord.HighWord = aCommand;</div>
<div class="line"><span class="lineno">  131</span>            <span class="comment">// Send data</span></div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">for</span> (uint_fast8_t i = 0; i &lt; NEC_BITS; ++i) {</div>
<div class="line"><span class="lineno">  133</span>                sendMark(aSendPin, NEC_BIT_MARK); <span class="comment">// constant mark length</span></div>
<div class="line"><span class="lineno">  134</span>                <span class="keywordflow">if</span> (tData.ULong &amp; 1) {</div>
<div class="line"><span class="lineno">  135</span>                    delayMicroseconds(NEC_ONE_SPACE);</div>
<div class="line"><span class="lineno">  136</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  137</span>                    delayMicroseconds(NEC_ZERO_SPACE);</div>
<div class="line"><span class="lineno">  138</span>                }</div>
<div class="line"><span class="lineno">  139</span>                tData.ULong &gt;&gt;= 1; <span class="comment">// shift command for next bit</span></div>
<div class="line"><span class="lineno">  140</span>            }</div>
<div class="line"><span class="lineno">  141</span>        }        <span class="comment">// send stop bit</span></div>
<div class="line"><span class="lineno">  142</span>        sendMark(aSendPin, NEC_BIT_MARK);</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>        tNumberOfCommands--;</div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">// skip last delay!</span></div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">if</span> (tNumberOfCommands &gt; 0) {</div>
<div class="line"><span class="lineno">  147</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  148</span><span class="comment">             * Check and fallback for wrong RepeatPeriodMillis parameter. I.e the repeat period must be greater than each frame duration.</span></div>
<div class="line"><span class="lineno">  149</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  150</span>            <span class="keyword">auto</span> tFrameDurationMillis = millis() - tStartOfFrameMillis;</div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">if</span> (NEC_REPEAT_PERIOD / 1000 &gt; tFrameDurationMillis) {</div>
<div class="line"><span class="lineno">  152</span>                delay(NEC_REPEAT_PERIOD / 1000 - tFrameDurationMillis);</div>
<div class="line"><span class="lineno">  153</span>            }</div>
<div class="line"><span class="lineno">  154</span>        }</div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="line"><span class="lineno">  156</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa97ef3a9ba3e40bd50a906788b65e79a" name="gaa97ef3a9ba3e40bd50a906788b65e79a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa97ef3a9ba3e40bd50a906788b65e79a">&#9670;&#160;</a></span>TinyReceiverDecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TinyReceiverDecode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  431</span>                          {</div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordtype">bool</span> tJustWritten = TinyIRReceiverData.<a class="code hl_variable" href="structTinyIRReceiverCallbackDataStruct.html#aff079c5dbb9e3bb1aa10907f8f89bebe">justWritten</a>;</div>
<div class="line"><span class="lineno">  433</span>    <span class="keywordflow">if</span> (tJustWritten) {</div>
<div class="line"><span class="lineno">  434</span>        TinyIRReceiverData.<a class="code hl_variable" href="structTinyIRReceiverCallbackDataStruct.html#aff079c5dbb9e3bb1aa10907f8f89bebe">justWritten</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  435</span>    }</div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">return</span> tJustWritten;</div>
<div class="line"><span class="lineno">  437</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
